<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.5">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2019-04-09T21:43:25+08:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">孙大剩</title><subtitle>An iOS developer since 2012.</subtitle><entry><title type="html">Objective-C Atomicity Summary</title><link href="http://localhost:4000/jekyll/update/2019/04/09/objective-c-atomicity-summary.html" rel="alternate" type="text/html" title="Objective-C Atomicity Summary" /><published>2019-04-09T20:07:52+08:00</published><updated>2019-04-09T20:07:52+08:00</updated><id>http://localhost:4000/jekyll/update/2019/04/09/objective-c-atomicity-summary</id><content type="html" xml:base="http://localhost:4000/jekyll/update/2019/04/09/objective-c-atomicity-summary.html">&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;&lt;meta name=&quot;exporter-version&quot; content=&quot;Evernote Mac 9.0.2 (457849)&quot; /&gt;&lt;meta name=&quot;author&quot; content=&quot;250764090@qq.com&quot; /&gt;&lt;meta name=&quot;created&quot; content=&quot;2019-04-02 08:38:04 +0000&quot; /&gt;&lt;meta name=&quot;source&quot; content=&quot;desktop.mac&quot; /&gt;&lt;meta name=&quot;updated&quot; content=&quot;2019-04-09 11:12:08 +0000&quot; /&gt;&lt;title&gt;Objective-C atomicity summary&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;div&gt;
&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot;&gt;nonatomicShortStruct&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot;&gt;atomicShortStruct&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;
    ivarGetters + propertyGetters + ivarSetters + propertySetters : safe&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;br /&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot;&gt;
nonatomicLongStruct&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarGetters + propertyGetters : safe&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarSetters : &lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal; color: rgb(255, 38, 0);&quot;&gt;wrong data&lt;/span&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    propertySetters : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal; color: rgb(255, 38, 0);&quot;&gt;wrong data&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarSetter + propertySetter : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal; color: rgb(255, 38, 0);&quot;&gt;wrong data&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarGetter + ivarSetter : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal; color: rgb(255, 38, 0);&quot;&gt;wrong data&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarGetter + propertySetter : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal; color: rgb(255, 38, 0);&quot;&gt;wrong data&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    propertyGetter + ivarSetter : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal; color: rgb(255, 38, 0);&quot;&gt;wrong data&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    propertyGetter + propertySetter : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal; color: rgb(255, 38, 0);&quot;&gt;wrong data&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;br /&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot;&gt;
atomicLongStruct&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarGetters + propertyGetters : safe&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarSetters : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal; color: rgb(255, 38, 0);&quot;&gt;wrong data&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    propertySetters : safe&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarSetter + propertySetter : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal; color: rgb(255, 38, 0);&quot;&gt;wrong data&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarGetter + ivarSetter : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal; color: rgb(255, 38, 0);&quot;&gt;wrong data&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarGetter + propertySetter : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal; color: rgb(255, 38, 0);&quot;&gt;wrong data&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    propertyGetter + ivarSetter : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal; color: rgb(255, 38, 0);&quot;&gt;wrong data&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    propertyGetters + propertySetters : safe&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;br /&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot;&gt;
nonatomicStrongObject&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot;&gt;nonatomicCopyObject&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarGetters + propertyGetters : safe&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarSetters : &lt;/span&gt;&lt;span style=&quot;font-size: 14px; color: rgb(255, 38, 0); font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;over retain / over release&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    propertySetters : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; color: rgb(255, 38, 0); font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;over retain / over release&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarSetter + propertySetter : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; color: rgb(255, 38, 0); font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;over retain / over release&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarGetter + ivarSetter : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; color: rgb(255, 38, 0); font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;dangling pointer&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarGetter + propertySetter : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; color: rgb(255, 38, 0); font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;dangling pointer&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    propertyGetter + ivarSetter : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; color: rgb(255, 38, 0); font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;dangling pointer&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    propertyGetters + propertySetters : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; color: rgb(255, 38, 0); font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;dangling pointer&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;br /&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot;&gt;
atomicStrongObject&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot;&gt;atomicCopyObject&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarGetters + propertyGetters : safe&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarSetters : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; color: rgb(255, 38, 0); font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;over retain / over release&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    propertySetters : safe&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarSetter + propertySetter : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; color: rgb(255, 38, 0); font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;over retain / over release&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarGetter + ivarSetter : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; color: rgb(255, 38, 0); font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;dangling pointer&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarGetter + propertySetter : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; color: rgb(255, 38, 0); font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;dangling pointer&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    propertyGetter + ivarSetter : &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; color: rgb(255, 38, 0); font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;dangling pointer&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    propertyGetters + propertySetters : safe&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;br /&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot;&gt;
nonatomicUnsafeUnretainedObject&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot;&gt;atomicUnsafeUnretainedObject&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;ivarGetters + propertyGetters + ivarSetters + propertySetters &lt;/span&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;: safe / &lt;font color=&quot;#ff9300&quot;&gt;outer &lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;&lt;font color=&quot;#ff9300&quot;&gt;dangling pointer&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot;&gt;nonatomicWeakObject&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: bold; line-height: normal;&quot;&gt;atomicWeakObject&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarGetters + propertyGetters : safe&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarSetters : safe&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    propertySetters : safe&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarSetter + propertySetter : safe&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarGetter + ivarSetter : safe&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    ivarGetter + propertySetter : safe&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    propertyGetter + ivarSetter : safe&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Courier New&amp;quot;; font-stretch: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;    propertyGetters + propertySetters : safe&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; font-family: &amp;quot;Helvetica Neue&amp;quot;; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; font-family: &amp;quot;Helvetica Neue&amp;quot;; font-stretch: normal; font-style: italic; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot; /&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;</content><author><name></name></author><summary type="html">Objective-C atomicity summary nonatomicShortStructatomicShortStruct     ivarGetters + propertyGetters + ivarSetters + propertySetters : safe nonatomicLongStruct    ivarGetters + propertyGetters : safe    ivarSetters : wrong data    propertySetters : wrong data    ivarSetter + propertySetter : wrong data    ivarGetter + ivarSetter : wrong data    ivarGetter + propertySetter : wrong data    propertyGetter + ivarSetter : wrong data    propertyGetter + propertySetter : wrong data atomicLongStruct    ivarGetters + propertyGetters : safe    ivarSetters : wrong data    propertySetters : safe    ivarSetter + propertySetter : wrong data    ivarGetter + ivarSetter : wrong data    ivarGetter + propertySetter : wrong data    propertyGetter + ivarSetter : wrong data    propertyGetters + propertySetters : safe nonatomicStrongObjectnonatomicCopyObject    ivarGetters + propertyGetters : safe    ivarSetters : over retain / over release    propertySetters : over retain / over release    ivarSetter + propertySetter : over retain / over release    ivarGetter + ivarSetter : dangling pointer    ivarGetter + propertySetter : dangling pointer    propertyGetter + ivarSetter : dangling pointer    propertyGetters + propertySetters : dangling pointer atomicStrongObjectatomicCopyObject    ivarGetters + propertyGetters : safe    ivarSetters : over retain / over release    propertySetters : safe    ivarSetter + propertySetter : over retain / over release    ivarGetter + ivarSetter : dangling pointer    ivarGetter + propertySetter : dangling pointer    propertyGetter + ivarSetter : dangling pointer    propertyGetters + propertySetters : safe nonatomicUnsafeUnretainedObjectatomicUnsafeUnretainedObject    ivarGetters + propertyGetters + ivarSetters + propertySetters : safe / outer dangling pointernonatomicWeakObjectatomicWeakObject    ivarGetters + propertyGetters : safe    ivarSetters : safe    propertySetters : safe    ivarSetter + propertySetter : safe    ivarGetter + ivarSetter : safe    ivarGetter + propertySetter : safe    propertyGetter + ivarSetter : safe    propertyGetters + propertySetters : safe</summary></entry><entry><title type="html">super</title><link href="http://localhost:4000/jekyll/update/2018/08/23/super.html" rel="alternate" type="text/html" title="super" /><published>2018-08-23T20:07:52+08:00</published><updated>2018-08-23T20:07:52+08:00</updated><id>http://localhost:4000/jekyll/update/2018/08/23/super</id><content type="html" xml:base="http://localhost:4000/jekyll/update/2018/08/23/super.html">&lt;div class=&quot;post-content e-content&quot; itemprop=&quot;articleBody&quot;&gt;
    
 
  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
  &lt;title&gt;super&lt;/title&gt;
 
 
  &lt;div&gt;
   老师留了一项作业，要求在ViewController的
   &lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;viewDidLoad&lt;/span&gt;方法中将
   &lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;self.view&lt;/span&gt;处理一下，使得对象在后续调用
   &lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;tag&lt;/span&gt;的时候将要返回的值打印出来。
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   于是乎我写出了以下代码完成了作业
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@interface&lt;/span&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; MyView : &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;UIView&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@implementation&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; MyView&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;NSInteger&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;)tag {&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;NSInteger&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; tag = [&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;super&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(62, 30, 129); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;tag&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;];&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(62, 30, 129); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;NSLog&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(209, 47, 27); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@&quot;%@&quot;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(39, 42, 216); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;tag&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(39, 42, 216); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; tag;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); font-family: Helvetica; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); font-family: Helvetica; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@interface&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); color: rgb(79, 129, 135); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;ViewController&lt;/span&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; ()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); font-family: Helvetica; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); font-family: Helvetica; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); font-family: Helvetica; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); font-family: Helvetica; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@implementation&lt;/span&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; ViewController&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); font-family: Helvetica; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; font-family: Menlo;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;)viewDidLoad {&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; [&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;super&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(62, 30, 129); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;];&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;UIView&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; *view = &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;view&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font-size: 12px; color: rgb(62, 30, 129); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;object_setClass&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;(view, [&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(79, 129, 135); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;MyView&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(62, 30, 129); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;]);&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;)view.&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;tag&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); font-family: Helvetica; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   老师看了以后感觉非常满意，跟答案是一模一样啊，我心里是乐开了个花，然后信心满满得给爸爸看。但是爸爸却说，代码里不允许出现
   &lt;span style=&quot;font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; line-height: normal;&quot;&gt;UIView&lt;/span&gt;这个类，别问为什么，这是要求，你爹永远是对的！
  &lt;/div&gt;
  &lt;div&gt;
   怎么办呢？如果不继承的话，就需要对UIView做方法交换，但那样会破坏原有的类系统。如何在目前的实现上做相应的变化呢？
  &lt;/div&gt;
  &lt;div&gt;
   于是乎，思路如下：
  &lt;/div&gt;
  &lt;div&gt;
   1&amp;nbsp;写一个假类
   &lt;span style=&quot;color: rgb(0, 0, 0); font-stretch: normal; font-variant-caps: normal; line-height: normal; font-family: Menlo; font-size: 12px;&quot;&gt;MyView&lt;/span&gt;
   &lt;span style=&quot;color: rgb(0, 0, 0); font-stretch: normal; font-variant-caps: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;; font-size: 14px;&quot;&gt;继承于 &lt;/span&gt;
   &lt;span style=&quot;font-size: 12px; color: rgb(112, 61, 170); font-stretch: normal; font-variant-caps: normal; line-height: normal; font-family: Menlo; font-style: normal; font-weight: normal;&quot;&gt;NSObject&lt;/span&gt;
   &lt;span style=&quot;color: rgb(0, 0, 0); font-stretch: normal; font-variant-caps: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;; font-size: 14px;&quot;&gt;，仅用于提供&lt;/span&gt;
   &lt;span style=&quot;color: rgb(0, 0, 0); font-stretch: normal; font-variant-caps: normal; line-height: normal; font-family: Menlo;&quot;&gt;tag&lt;/span&gt;
   &lt;span style=&quot;color: rgb(0, 0, 0); font-stretch: normal; font-variant-caps: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;; font-size: 14px;&quot;&gt;的&lt;/span&gt;
   &lt;span style=&quot;color: rgb(0, 0, 0); font-stretch: normal; font-variant-caps: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;; font-size: 14px;&quot;&gt;实现；&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   2 动态注册
   &lt;span style=&quot;font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;UIView&lt;/span&gt;子类
   &lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;_MyView&lt;/span&gt;，为其增加
   &lt;span style=&quot;font-family: Menlo;&quot;&gt;tag&lt;/span&gt;方法，并绑定
   &lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;MyView&lt;/span&gt;的实现；&amp;nbsp;
  &lt;/div&gt;
  &lt;div&gt;
   3 将
   &lt;span style=&quot;font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;UIView&lt;/span&gt;对象的类修改为
   &lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;_MyView&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   代码就变成了这样
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@interface&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; MyView : &lt;/span&gt;&lt;span style=&quot;font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;NSObject&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@implementation&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; MyView&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;NSInteger&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;)tag {&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;NSInteger&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; tag = [&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;super&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(49, 89, 93); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;tag&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;];&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(62, 30, 129); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;NSLog&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(209, 47, 27); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@&quot;%@&quot;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(39, 42, 216); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;tag&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(39, 42, 216); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; tag;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@interface&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(79, 129, 135); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;ViewController&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; ()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@implementation&lt;/span&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; ViewController&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;)viewDidLoad {&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; [&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;super&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(62, 30, 129); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;];&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;UIView&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; *view = &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;view&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(79, 129, 135); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;Class&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; aClass = view.&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(62, 30, 129); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;NSString&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; *subclassString = &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(209, 47, 27); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@&quot;_MyView&quot;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(79, 129, 135); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;Class&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; subclass = &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(62, 30, 129); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;objc_allocateClassPair&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;(aClass, subclassString.&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;UTF8String&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(39, 42, 216); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; (subclass) {&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(79, 129, 135); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;Class&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; fakeClass = [&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(79, 129, 135); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;MyView&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(62, 30, 129); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;];&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;NSArray&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; *selectorStrings = &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(39, 42, 216); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@[&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(209, 47, 27); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@&quot;tag&quot;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(39, 42, 216); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;NSString&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; *selectorString &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;in&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; selectorStrings) {&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;SEL&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; selector = &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(62, 30, 129); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;NSSelectorFromString&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;(selectorString);&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;Method&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; method = &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(62, 30, 129); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;class_getInstanceMethod&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;(fakeClass, selector);&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(120, 73, 42); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;NSAssert&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;(method, &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(209, 47, 27); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@&quot;Error:class_getInstanceMethod&quot;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;BOOL&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; ret = &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(62, 30, 129); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;class_addMethod&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;(subclass, selector, &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(62, 30, 129); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;method_getImplementation&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;(method), &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(62, 30, 129); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;method_getTypeEncoding&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;(method));&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;)ret;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(120, 73, 42); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;NSAssert&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;(ret, &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(209, 47, 27); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@&quot;Error:class_addMethod&quot;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; } &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; subclass = &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(62, 30, 129); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;NSClassFromString&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;(subclassString);&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(62, 30, 129); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;object_setClass&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;(view, subclass);&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;)view.&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;tag&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   改完了发现连编译都不过，No visible @interface for 'NSObject' declares the selector ’tag’。
   &lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-stretch: normal; font-variant-caps: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;; font-size: 14px;&quot;&gt;对，给&lt;/span&gt;&lt;span style=&quot;font-size: 12px; color: rgb(112, 61, 170); font-stretch: normal; font-variant-caps: normal; line-height: normal; font-family: Menlo;&quot;&gt;NSObject&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-stretch: normal; font-variant-caps: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;; font-size: 14px;&quot;&gt;加个category，欺骗一下编译器。&lt;/span&gt;&lt;/span&gt;&lt;/font&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@interface&lt;/span&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; NSObject (MyView)&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;NSInteger&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;)tag;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 14px; color: rgb(0, 0, 0); font-family: &amp;quot;Helvetica Neue&amp;quot;; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;可以，编译过了。但是运行错误&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   #0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0x0000000187890500 in objc_exception_throw ()
  &lt;/div&gt;
  &lt;div&gt;
   #1&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0x0000000188e35ef4 in -[NSObject(NSObject) doesNotRecognizeSelector:] ()
  &lt;/div&gt;
  &lt;div&gt;
   #2&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0x0000000188e32d54 in ___forwarding___ ()
  &lt;/div&gt;
  &lt;div&gt;
   #3&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0x0000000188d2ed4c in _CF_forwarding_prep_0 ()
  &lt;/div&gt;
  &lt;div&gt;
   #4&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0x00000001000b9ea0 in -[MyView tag] at ViewController.m:26
  &lt;/div&gt;
  &lt;div&gt;
   #5&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0x00000001000ba484 in -[ViewController viewDidLoad] at ViewController.m:62
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; font-family: Menlo; font-weight: bold;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: no-common-ligatures; font-weight: bold; line-height: normal;&quot;&gt;-[_MyView tag]: unrecognized selector sent to instance 0x10030e410&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 14px; color: rgb(0, 0, 0); font-stretch: normal; font-variant-caps: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot;&gt;Exception断点处调试下看一看&lt;/span&gt;&lt;/span&gt;&lt;/font&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; font-family: Menlo; font-weight: bold;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: no-common-ligatures; font-weight: bold; line-height: normal;&quot;&gt;(lldb) po object_getClass((id)0x10030e410)&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: no-common-ligatures; font-weight: bold; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: no-common-ligatures; font-weight: bold; line-height: normal;&quot;&gt;_MyView&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; font-family: Menlo; font-weight: bold;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: no-common-ligatures; font-weight: bold; line-height: normal;&quot;&gt;(lldb) po class_getSuperclass(object_getClass((id)0x10030e410))&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: no-common-ligatures; font-weight: bold; line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: no-common-ligatures; font-weight: bold; line-height: normal;&quot;&gt;UIView&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-variant-ligatures: no-common-ligatures; font-weight: bold; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;; font-size: 14px;&quot;&gt;为什么运行时找不到tag方法呢？原因就在于这个super&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot;&gt;&lt;span style=&quot;font-size: 12px; font-family: Menlo; color: rgb(186, 45, 162); font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;super&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot;&gt;这个关键字跟 &lt;/span&gt;&lt;span style=&quot;font-size: 12px; font-family: Menlo; color: rgb(186, 45, 162); font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot;&gt;是完全不一样的，和&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 12px; font-family: Menlo; color: rgb(186, 45, 162); font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot;&gt;一样，&lt;/span&gt;&lt;span style=&quot;font-size: 12px; font-family: Menlo; color: rgb(186, 45, 162); font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot;&gt;可以被解读成一个隐式参数，可以作为左值、右值，完全一个自动变量，也可以作为一个方法名，被定义在 &lt;/span&gt;&lt;span style=&quot;font-size: 12px; font-family: Menlo; color: rgb(0, 0, 0); font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;NSObject&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot;&gt;协议之下&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt; 
   &lt;span style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;@protocol&lt;/span&gt;
   &lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt; NSObject&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); font-family: Helvetica; font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; font-family: Menlo; font-stretch: normal; line-height: normal;&quot;&gt;- (&lt;/span&gt;
   &lt;span style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; line-height: normal;&quot;&gt;instancetype&lt;/span&gt;
   &lt;span style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); font-family: Menlo; font-stretch: normal; line-height: normal;&quot;&gt;)&lt;/span&gt;
   &lt;span style=&quot;font-size: 12px; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; line-height: normal;&quot;&gt;self&lt;/span&gt;
   &lt;span style=&quot;font-size: 12px; font-family: Menlo; font-stretch: normal; line-height: normal;&quot;&gt;;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 12px; color: rgb(186, 45, 162); font-family: Menlo; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;@end&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;; font-size: 14px;&quot;&gt;而&lt;/span&gt;
   &lt;span style=&quot;font-size: 12px; font-family: Menlo; color: rgb(186, 45, 162); font-stretch: normal; font-style: normal; font-variant-caps: normal; font-weight: normal; line-height: normal;&quot;&gt;super&lt;/span&gt;
   &lt;span style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;; font-size: 14px;&quot;&gt;在rewrite后变成了&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);&quot;&gt;&lt;br /&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt; 
   &lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);&quot;&gt;static&lt;/span&gt;
   &lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; NSInteger _I_MyView_tag(MyView * self, SEL _cmd) {&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; NSInteger tag = ((NSInteger (*)(__rw_objc_super *, SEL))(&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt; *)objc_msgSendSuper)((__rw_objc_super){(id)self, (id)class_getSuperclass(objc_getClass(&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #d12f1b; background-color: #ffffff;&quot;&gt;&quot;MyView&quot;&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;))}, sel_registerName(&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #d12f1b; background-color: #ffffff;&quot;&gt;&quot;tag&quot;&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;));&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; NSLog((NSString *)&amp;amp;__NSConstantStringImpl__ViewController_m_0, ((NSNumber *(*)(Class, SEL, NSInteger))(&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; *)objc_msgSend)(objc_getClass(&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #d12f1b; background-color: #ffffff;&quot;&gt;&quot;NSNumber&quot;&lt;/span&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;), sel_registerName(&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #d12f1b; background-color: #ffffff;&quot;&gt;&quot;numberWithInteger:&quot;&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;), (NSInteger)(tag)));&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; tag;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;br /&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot;&gt;代码中&lt;span style=&quot;font-variant-caps: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(209, 47, 27);&quot;&gt;&quot;MyView&quot;&lt;/span&gt;是编译时就确定了的，所以&lt;span style=&quot;font-variant-caps: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;objc_msgSendSuper&lt;/span&gt;所查找的类是&lt;span style=&quot;font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;MyView&lt;/span&gt;的父类&lt;span style=&quot;font-size: 12px; color: rgb(112, 61, 170); font-family: Menlo; font-stretch: normal; font-variant-caps: normal; line-height: normal;&quot;&gt;NSObject&lt;/span&gt;，所以找不到tag方法。&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;font face=&quot;Helvetica Neue&quot;&gt;然后我们去掉本不该有的NSObject类别，通过修改super的含义，来解决问题。最终代码&lt;/font&gt;
   &lt;span style=&quot;font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot;&gt;如下：&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;font face=&quot;Helvetica Neue&quot;&gt;&lt;br /&gt;&lt;/font&gt;
  &lt;/div&gt;
  &lt;div&gt; 
   &lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);&quot;&gt;@interface&lt;/span&gt;
   &lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; MyView : &lt;/span&gt;
   &lt;span style=&quot;font: 12.0px Menlo; color: #703daa; background-color: #ffffff;&quot;&gt;NSObject&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);&quot;&gt;&lt;br /&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);&quot;&gt;&lt;br /&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);&quot;&gt;@implementation&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; MyView&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;&lt;br /&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #703daa; background-color: #ffffff;&quot;&gt;NSInteger&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;)tag {&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 132, 0);&quot;&gt;//&amp;nbsp;&amp;nbsp;&amp;nbsp; NSInteger tag = [super tag];&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;struct&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #703daa; background-color: #ffffff;&quot;&gt;objc_super&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; su = {&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(62, 30, 129);&quot;&gt;NSClassFromString&lt;/span&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(209, 47, 27);&quot;&gt;@&quot;UIView&quot;&lt;/span&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;)};&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #703daa; background-color: #ffffff;&quot;&gt;NSInteger&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; tag = ((&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #703daa; background-color: #ffffff;&quot;&gt;NSInteger&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; (*)(&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;struct&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #703daa; background-color: #ffffff;&quot;&gt;objc_super&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; *, &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;SEL&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;))&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #3e1e81; background-color: #ffffff;&quot;&gt;objc_msgSendSuper&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;)(&amp;amp;su, &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;@selector&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;(tag));&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #3e1e81; background-color: #ffffff;&quot;&gt;NSLog&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #d12f1b; background-color: #ffffff;&quot;&gt;@&quot;%@&quot;&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #272ad8; background-color: #ffffff;&quot;&gt;@(&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;tag&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #272ad8; background-color: #ffffff;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; tag;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);&quot;&gt;&lt;br /&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);&quot;&gt;&lt;br /&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);&quot;&gt;@interface&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&lt;span style=&quot;font: 12.0px Menlo; color: #4f8187; background-color: #ffffff;&quot;&gt;ViewController&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; ()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);&quot;&gt;&lt;br /&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);&quot;&gt;&lt;br /&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);&quot;&gt;@implementation&lt;/span&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt; ViewController&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;&lt;br /&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;)viewDidLoad {&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; [&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;super&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #3e1e81; background-color: #ffffff;&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;];&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #703daa; background-color: #ffffff;&quot;&gt;UIView&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; *view = &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #703daa; background-color: #ffffff;&quot;&gt;view&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #4f8187; background-color: #ffffff;&quot;&gt;Class&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; aClass = view.&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #3e1e81; background-color: #ffffff;&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #703daa; background-color: #ffffff;&quot;&gt;NSString&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; *subclassString = &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #d12f1b; background-color: #ffffff;&quot;&gt;@&quot;_MyView&quot;&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #4f8187; background-color: #ffffff;&quot;&gt;Class&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; subclass = &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #3e1e81; background-color: #ffffff;&quot;&gt;objc_allocateClassPair&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;(aClass, subclassString.&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #703daa; background-color: #ffffff;&quot;&gt;UTF8String&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #272ad8; background-color: #ffffff;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; (subclass) {&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #4f8187; background-color: #ffffff;&quot;&gt;Class&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; fakeClass = [&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #4f8187; background-color: #ffffff;&quot;&gt;MyView&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #3e1e81; background-color: #ffffff;&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;];&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #703daa; background-color: #ffffff;&quot;&gt;NSArray&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; *selectorStrings = &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #272ad8; background-color: #ffffff;&quot;&gt;@[&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #d12f1b; background-color: #ffffff;&quot;&gt;@&quot;tag&quot;&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #272ad8; background-color: #ffffff;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #703daa; background-color: #ffffff;&quot;&gt;NSString&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; *selectorString &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;in&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; selectorStrings) {&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;SEL&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; selector = &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #3e1e81; background-color: #ffffff;&quot;&gt;NSSelectorFromString&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;(selectorString);&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #703daa; background-color: #ffffff;&quot;&gt;Method&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; method = &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #3e1e81; background-color: #ffffff;&quot;&gt;class_getInstanceMethod&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;(fakeClass, selector);&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #78492a; background-color: #ffffff;&quot;&gt;NSAssert&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;(method, &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #d12f1b; background-color: #ffffff;&quot;&gt;@&quot;Error:class_getInstanceMethod&quot;&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;BOOL&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; ret = &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #3e1e81; background-color: #ffffff;&quot;&gt;class_addMethod&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;(subclass, selector, &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #3e1e81; background-color: #ffffff;&quot;&gt;method_getImplementation&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;(method), &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #3e1e81; background-color: #ffffff;&quot;&gt;method_getTypeEncoding&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;(method));&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; (&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;)ret;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #78492a; background-color: #ffffff;&quot;&gt;NSAssert&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;(ret, &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #d12f1b; background-color: #ffffff;&quot;&gt;@&quot;Error:class_addMethod&quot;&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; } &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; subclass = &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #3e1e81; background-color: #ffffff;&quot;&gt;NSClassFromString&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;(subclassString);&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #3e1e81; background-color: #ffffff;&quot;&gt;object_setClass&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;(view, subclass);&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; (&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #ba2da2; background-color: #ffffff;&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;)view.&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #703daa; background-color: #ffffff;&quot;&gt;tag&lt;/span&gt;&lt;span style=&quot;font: 12.0px Menlo; color: #000000; background-color: #ffffff;&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(0, 0, 0);&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);&quot;&gt;&lt;br /&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font: 12.0px Helvetica; background-color: #ffffff;&quot;&gt;&lt;span style=&quot;font-style: normal; font-variant-caps: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: Menlo; color: rgb(186, 45, 162);&quot;&gt;@end&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   &lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot;&gt;&lt;span style=&quot;font-size: 14px; font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;/div&gt;
  &lt;div&gt;
   符合了要求，爸爸也就没有再说什么了。这只是个例子，实际开发中场景可能会复杂的多，比如把tag换成frame，比如把UIView换成UIEvent、NSURLSessionTask。有人会问，为什么会有这种特殊的要求？我想说的是，这点不重要，重要的是理解super的含义以及合理运用来解决实际生产中的问题。
  &lt;/div&gt;
 


  &lt;/div&gt;</content><author><name></name></author><summary type="html">super 老师留了一项作业，要求在ViewController的 viewDidLoad方法中将 self.view处理一下，使得对象在后续调用 tag的时候将要返回的值打印出来。 于是乎我写出了以下代码完成了作业 @interface MyView : UIView @end @implementation MyView - (NSInteger)tag { &amp;nbsp;&amp;nbsp;&amp;nbsp; NSInteger tag = [super&amp;nbsp;tag]; &amp;nbsp;&amp;nbsp;&amp;nbsp; NSLog(@&quot;%@&quot;, @(tag)); &amp;nbsp;&amp;nbsp;&amp;nbsp; return tag; } @end @interface&amp;nbsp;ViewController () @end @implementation ViewController - (void)viewDidLoad { &amp;nbsp;&amp;nbsp;&amp;nbsp; [super&amp;nbsp;viewDidLoad]; &amp;nbsp;&amp;nbsp;&amp;nbsp; UIView *view = self.view; &amp;nbsp;&amp;nbsp;&amp;nbsp; object_setClass(view, [MyView&amp;nbsp;class]); &amp;nbsp;&amp;nbsp;&amp;nbsp; (void)view.tag; } @end 老师看了以后感觉非常满意，跟答案是一模一样啊，我心里是乐开了个花，然后信心满满得给爸爸看。但是爸爸却说，代码里不允许出现 UIView这个类，别问为什么，这是要求，你爹永远是对的！ 怎么办呢？如果不继承的话，就需要对UIView做方法交换，但那样会破坏原有的类系统。如何在目前的实现上做相应的变化呢？ 于是乎，思路如下： 1&amp;nbsp;写一个假类 MyView 继承于 NSObject ，仅用于提供 tag 的 实现； 2 动态注册 UIView子类 _MyView，为其增加 tag方法，并绑定 MyView的实现；&amp;nbsp; 3 将 UIView对象的类修改为 _MyView 代码就变成了这样 @interface MyView : NSObject @end @implementation MyView - (NSInteger)tag { &amp;nbsp;&amp;nbsp;&amp;nbsp; NSInteger tag = [super&amp;nbsp;tag]; &amp;nbsp;&amp;nbsp;&amp;nbsp; NSLog(@&quot;%@&quot;, @(tag)); &amp;nbsp;&amp;nbsp;&amp;nbsp; return tag; } @end @interface&amp;nbsp;ViewController () @end @implementation ViewController - (void)viewDidLoad { &amp;nbsp;&amp;nbsp;&amp;nbsp; [super&amp;nbsp;viewDidLoad]; &amp;nbsp;&amp;nbsp;&amp;nbsp; UIView *view = self.view; &amp;nbsp;&amp;nbsp;&amp;nbsp; Class aClass = view.class; &amp;nbsp;&amp;nbsp;&amp;nbsp; NSString *subclassString = @&quot;_MyView&quot;; &amp;nbsp;&amp;nbsp;&amp;nbsp; Class subclass = objc_allocateClassPair(aClass, subclassString.UTF8String, 0); &amp;nbsp;&amp;nbsp;&amp;nbsp; if (subclass) { &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Class fakeClass = [MyView&amp;nbsp;class]; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; NSArray *selectorStrings = @[@&quot;tag&quot;]; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; for (NSString *selectorString in selectorStrings) { &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; SEL selector = NSSelectorFromString(selectorString); &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Method method = class_getInstanceMethod(fakeClass, selector); &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; NSAssert(method, @&quot;Error:class_getInstanceMethod&quot;); &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; BOOL ret = class_addMethod(subclass, selector, method_getImplementation(method), method_getTypeEncoding(method)); &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; (void)ret; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; NSAssert(ret, @&quot;Error:class_addMethod&quot;); &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; } &amp;nbsp;&amp;nbsp;&amp;nbsp; } else { &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; subclass = NSClassFromString(subclassString); &amp;nbsp;&amp;nbsp;&amp;nbsp; } &amp;nbsp;&amp;nbsp;&amp;nbsp; object_setClass(view, subclass); &amp;nbsp;&amp;nbsp;&amp;nbsp; (void)view.tag; } @end 改完了发现连编译都不过，No visible @interface for 'NSObject' declares the selector ’tag’。 对，给NSObject加个category，欺骗一下编译器。 @interface NSObject (MyView) - (NSInteger)tag; @end 可以，编译过了。但是运行错误 #0&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0x0000000187890500 in objc_exception_throw () #1&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0x0000000188e35ef4 in -[NSObject(NSObject) doesNotRecognizeSelector:] () #2&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0x0000000188e32d54 in ___forwarding___ () #3&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0x0000000188d2ed4c in _CF_forwarding_prep_0 () #4&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0x00000001000b9ea0 in -[MyView tag] at ViewController.m:26 #5&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;0x00000001000ba484 in -[ViewController viewDidLoad] at ViewController.m:62 -[_MyView tag]: unrecognized selector sent to instance 0x10030e410 Exception断点处调试下看一看 (lldb) po object_getClass((id)0x10030e410) _MyView (lldb) po class_getSuperclass(object_getClass((id)0x10030e410)) UIView 为什么运行时找不到tag方法呢？原因就在于这个super super这个关键字跟 self是完全不一样的，和&amp;nbsp;_cmd一样，self可以被解读成一个隐式参数，可以作为左值、右值，完全一个自动变量，也可以作为一个方法名，被定义在 NSObject协议之下 @protocol NSObject - ( instancetype ) self ; @end 而 super 在rewrite后变成了 static NSInteger _I_MyView_tag(MyView * self, SEL _cmd) { &amp;nbsp;&amp;nbsp;&amp;nbsp; NSInteger tag = ((NSInteger (*)(__rw_objc_super *, SEL))(void *)objc_msgSendSuper)((__rw_objc_super){(id)self, (id)class_getSuperclass(objc_getClass(&quot;MyView&quot;))}, sel_registerName(&quot;tag&quot;)); &amp;nbsp;&amp;nbsp;&amp;nbsp; NSLog((NSString *)&amp;amp;__NSConstantStringImpl__ViewController_m_0, ((NSNumber *(*)(Class, SEL, NSInteger))(void *)objc_msgSend)(objc_getClass(&quot;NSNumber&quot;), sel_registerName(&quot;numberWithInteger:&quot;), (NSInteger)(tag))); &amp;nbsp;&amp;nbsp;&amp;nbsp; return tag; } 代码中&quot;MyView&quot;是编译时就确定了的，所以objc_msgSendSuper所查找的类是MyView的父类NSObject，所以找不到tag方法。 然后我们去掉本不该有的NSObject类别，通过修改super的含义，来解决问题。最终代码 如下： @interface MyView : NSObject @end @implementation MyView - (NSInteger)tag { //&amp;nbsp;&amp;nbsp;&amp;nbsp; NSInteger tag = [super tag]; &amp;nbsp;&amp;nbsp;&amp;nbsp; struct&amp;nbsp;objc_super su = {self, NSClassFromString(@&quot;UIView&quot;)}; &amp;nbsp;&amp;nbsp;&amp;nbsp; NSInteger tag = ((NSInteger (*)(struct&amp;nbsp;objc_super *, SEL))objc_msgSendSuper)(&amp;amp;su, @selector(tag)); &amp;nbsp;&amp;nbsp;&amp;nbsp; NSLog(@&quot;%@&quot;, @(tag)); &amp;nbsp;&amp;nbsp;&amp;nbsp; return tag; } @end @interface&amp;nbsp;ViewController () @end @implementation ViewController - (void)viewDidLoad { &amp;nbsp;&amp;nbsp;&amp;nbsp; [super&amp;nbsp;viewDidLoad]; &amp;nbsp;&amp;nbsp;&amp;nbsp; UIView *view = self.view; &amp;nbsp;&amp;nbsp;&amp;nbsp; Class aClass = view.class; &amp;nbsp;&amp;nbsp;&amp;nbsp; NSString *subclassString = @&quot;_MyView&quot;; &amp;nbsp;&amp;nbsp;&amp;nbsp; Class subclass = objc_allocateClassPair(aClass, subclassString.UTF8String, 0); &amp;nbsp;&amp;nbsp;&amp;nbsp; if (subclass) { &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Class fakeClass = [MyView&amp;nbsp;class]; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; NSArray *selectorStrings = @[@&quot;tag&quot;]; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; for (NSString *selectorString in selectorStrings) { &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; SEL selector = NSSelectorFromString(selectorString); &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Method method = class_getInstanceMethod(fakeClass, selector); &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; NSAssert(method, @&quot;Error:class_getInstanceMethod&quot;); &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; BOOL ret = class_addMethod(subclass, selector, method_getImplementation(method), method_getTypeEncoding(method)); &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; (void)ret; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; NSAssert(ret, @&quot;Error:class_addMethod&quot;); &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; } &amp;nbsp;&amp;nbsp;&amp;nbsp; } else { &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; subclass = NSClassFromString(subclassString); &amp;nbsp;&amp;nbsp;&amp;nbsp; } &amp;nbsp;&amp;nbsp;&amp;nbsp; object_setClass(view, subclass); &amp;nbsp;&amp;nbsp;&amp;nbsp; (void)view.tag; } @end 符合了要求，爸爸也就没有再说什么了。这只是个例子，实际开发中场景可能会复杂的多，比如把tag换成frame，比如把UIView换成UIEvent、NSURLSessionTask。有人会问，为什么会有这种特殊的要求？我想说的是，这点不重要，重要的是理解super的含义以及合理运用来解决实际生产中的问题。 [jekyll-docs]: https://jekyllrb.com/docs/home [jekyll-gh]: https://github.com/jekyll/jekyll [jekyll-talk]: https://talk.jekyllrb.com/</summary></entry><entry><title type="html">Objective-C Atomicity</title><link href="http://localhost:4000/jekyll/update/2018/05/29/objective-c-atomicity.html" rel="alternate" type="text/html" title="Objective-C Atomicity" /><published>2018-05-29T20:07:52+08:00</published><updated>2018-05-29T20:07:52+08:00</updated><id>http://localhost:4000/jekyll/update/2018/05/29/objective-c-atomicity</id><content type="html" xml:base="http://localhost:4000/jekyll/update/2018/05/29/objective-c-atomicity.html">&lt;div class=&quot;post-content e-content&quot; itemprop=&quot;articleBody&quot;&gt;
    &lt;p&gt;&lt;/p&gt;&lt;div&gt;第一篇博客，但愿不是最后一篇。先上一张自己照片再说。
&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;img name=&quot;en-media:image/jpeg:4cd1b1ef6fccc2fe84df78d24e97549e:none:none&quot; src=&quot;data:image/jpeg;base64,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&quot; /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;“nonatomic和atomic的区别”是一个热门的iOS问题，我在网上看了很多文章，大致有如下观点：
&lt;/div&gt;&lt;div&gt;1 nonatomic是线程不安全的；
&lt;/div&gt;&lt;div&gt;2 atomic是线程安全的；
&lt;/div&gt;&lt;div&gt;3 atomic未必线程安全；
&lt;/div&gt;&lt;div&gt;4 atomic使用@synchronized语法实现的
&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;带着这个疑问，我写了测试程序如下：
&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@interface&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;Test :&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(112, 61, 170);&quot;&gt;NSObject&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;nonatomic&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(112, 61, 170);&quot;&gt;NSInteger&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;nonatomicInteger;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;atomic&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(112, 61, 170);&quot;&gt;NSInteger&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;atomicInteger;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@implementation&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;Test&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)test {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;nonatomicInteger&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;nonatomicInteger&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;atomicInteger&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;atomicInteger&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;在两个property处打断点，可以看到在armv7架构下-O0的具体的实现如下：
&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;Atomicity`-[Test nonatomicInteger]:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x1070f8&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+0&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; sub&amp;nbsp;&amp;nbsp;&amp;nbsp; sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x8&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x1070fa&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+2&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; movw &amp;nbsp; r2,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x48ca&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x1070fe&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+6&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; movt &amp;nbsp; r2,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107102&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+10&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, pc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107104&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+12&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x4]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107106&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+14&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107108&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+16&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x4]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10710a&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+18&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r2]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10710c&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+20&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, r1&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10710e&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+22&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r0]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107110&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+24&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x8&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107112&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+26&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lr&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;Atomicity`-[Test setNonatomicInteger:]:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107114&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+0&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; sub&amp;nbsp;&amp;nbsp;&amp;nbsp; sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0xc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107116&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+2&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; movw &amp;nbsp; r3,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x48ae&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10711a&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+6&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; movt &amp;nbsp; r3,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10711e&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+10&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r3, pc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107120&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+12&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x8]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107122&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+14&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x4]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107124&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+16&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [sp]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107126&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+18&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107128&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+20&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x8]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10712a&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+22&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [r3]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10712c&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+24&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, r2&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10712e&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+26&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r1]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107130&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+28&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0xc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107132&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+30&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lr&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;Atomicity`-[Test atomicInteger]:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107134&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+0&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; sub&amp;nbsp;&amp;nbsp;&amp;nbsp; sp,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x8&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107136&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+2&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x4]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107138&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+4&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10713a&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+6&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x4]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10713c&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+8&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; movw &amp;nbsp; r1,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x488c&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107140&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+12&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: movt &amp;nbsp; r1,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107144&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+16&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, pc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107146&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+18&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r1]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107148&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+20&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r0, r1]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10714a&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+22&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x8&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10714c&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+24&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lr&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;Atomicity`-[Test setAtomicInteger:]:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10714e&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+0&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; sub&amp;nbsp;&amp;nbsp;&amp;nbsp; sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0xc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107150&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+2&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x8]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107152&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+4&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x4]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107154&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+6&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [sp]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107156&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+8&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x8]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107158&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+10&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: movw &amp;nbsp; r1,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x4870&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10715c&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+14&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: movt &amp;nbsp; r1,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107160&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+18&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, pc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107162&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+20&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r1]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107164&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+22&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [sp]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107166&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+24&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [r0, r1]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107168&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+26&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0xc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10716a&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+28&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lr&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;下面对每条指令进行标注，结果如下：&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;Atomicity`-[Test nonatomicInteger]:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x1070f8&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+0&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; sub&amp;nbsp;&amp;nbsp;&amp;nbsp; sp,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x8&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 0, 0);&quot;&gt;; 分配栈空间&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x1070fa&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+2&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; movw &amp;nbsp; r2,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x48ca&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 0, 0);&quot;&gt;; r2 =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;0x&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;48ca&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x1070fe&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+6&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; movt &amp;nbsp; r2,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x0&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 0, 0);&quot;&gt;;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 0, 0);&quot;&gt;r2 = r2 |&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;0x0&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;0000&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107102&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+10&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, pc&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;; r2 = r2 +&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107106 (armv7三级流水线，pc = pc -&amp;gt; 2)&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;运行完此指令后register read后会发现&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;r2 = 0x0010b9d0&amp;nbsp; Atomicity`Test._nonatomicInteger&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;，即三条指令通过pc定位到常量区获取到&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;_nonatomicInteger成员变量的地址偏移量存储地址&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107104&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+12&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x4] &amp;nbsp;&lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 0, 0);&quot;&gt;; 保存参数r0 self放在栈sp+4的位置&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107106&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+14&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp]&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;; 保存参数r1 self放&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;在栈sp的位置&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107108&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+16&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x4]&amp;nbsp;&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 0, 0);&quot;&gt;; 取出self放在r0&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10710a&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+18&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r2]&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;r1 =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;nonatomicInteger offset, 结果为4 因为&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;class_getInstanceSize([NSObject class])为4，&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;nonatomicInteger往后排&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10710c&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+20&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, r1&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;; r0 = r0 + r1, 即r0 = self + 4，r0为&amp;amp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;_nonatomicInteger&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10710e&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+22&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r0] &amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;; r0 = *r0，即r0 =&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;_nonatomicInteger&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107110&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+24&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; sp,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x8&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 0, 0);&quot;&gt;; 回收栈空间&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107112&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+26&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lr&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp; ; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;子程序返回&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;Atomicity`-[Test setNonatomicInteger:]:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107114&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+0&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; sub&amp;nbsp;&amp;nbsp;&amp;nbsp; sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0xc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107116&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+2&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; movw &amp;nbsp; r3,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x48ae&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10711a&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+6&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; movt &amp;nbsp; r3,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10711e&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+10&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r3, pc&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp; ; r3为&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;_nonatomicInteger成员变量的地址偏移量存储地址&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107120&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+12&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x8]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107122&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+14&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x4]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107124&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+16&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [sp]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ; 保存参数r2 n&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;onatomicInteger放在&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;栈sp的位置&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107126&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+18&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp]&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp; &amp;nbsp; ; 取出&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;n&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;onatomicInteger放在r0&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107128&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+20&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x8]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10712a&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+22&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [r3] &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;; r2 =&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;nonatomicInteger offset, 结果为4&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10712c&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+24&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, r2 &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;;&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;r1 = r1 + r2, r1为&amp;amp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;_nonatomicInteger&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10712e&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+26&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r1] &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;; *r1 = r0,&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;_nonatomicInteger =&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;nonatomicInteger;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107130&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+28&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0xc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107132&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+30&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lr&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;Atomicity`-[Test atomicInteger]:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107134&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+0&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; sub&amp;nbsp;&amp;nbsp;&amp;nbsp; sp,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x8&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107136&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+2&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x4]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107138&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+4&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10713a&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+6&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x4]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10713c&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+8&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; movw &amp;nbsp; r1,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x488c&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107140&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+12&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: movt &amp;nbsp; r1,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107144&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+16&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, pc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107146&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+18&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r1]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107148&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+20&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r0, r1]&amp;nbsp; &amp;nbsp; ; r0 = *(r0 + r1)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10714a&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+22&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x8&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10714c&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+24&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lr&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;Atomicity`-[Test setAtomicInteger:]:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10714e&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+0&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; sub&amp;nbsp;&amp;nbsp;&amp;nbsp; sp,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0xc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107150&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+2&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x8]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107152&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+4&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x4]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107154&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+6&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [sp]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107156&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+8&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x8]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107158&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+10&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: movw &amp;nbsp; r1,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x4870&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10715c&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+14&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: movt &amp;nbsp; r1,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107160&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+18&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, pc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107162&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+20&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r1]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107164&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+22&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [sp]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107166&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+24&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [r0, r1]&amp;nbsp; &amp;nbsp; ; *(r0 + r1) = r2&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107168&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+26&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; sp,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0xc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10716a&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+28&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lr&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;通过比较，可以看到对于NSInteger类型的属性，nonatomic比atomic的getter和setter都是多一条指令的，且无任何加锁的逻辑。比起nonatomic，atomic的实现中，偏移量常量地址的获取时机滞后，两条指令合并为一条。下面我们提取出关键指令来做对比：&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;Atomicity`-[Test nonatomicInteger]:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10710c&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+20&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, r1&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;; r0 = self + 4&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10710e&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+22&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r0] &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;; r0 = *r0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;Atomicity`-[Test setNonatomicInteger:]:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10712c&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+24&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, r2 &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;r1 = self + 4&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x10712e&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+26&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r1] &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;; *r1 = r0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:0.8rem;&quot;&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;Atomicity`-[Test atomicInteger]:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107148&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+20&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r0, r1]&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp; &amp;nbsp; ; r0 = *(r0 + r1) // ret = *(self + 8)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;Atomicity`-[Test setAtomicInteger:]:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x107166&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+24&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [r0, r1]&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp; &amp;nbsp; ; *(r0 + r1) = r2&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;// *(self + 8) =&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;atomicInteger;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size:0.933rem;&quot;&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;与对于每个方法体来说，临界区为成员变量所在的那块sizeof(NSInteger)大小的内存区域，所以可以看出nonatomic的实现等价于&lt;/span&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;atomic的实现。至于&lt;/span&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;偏移量常量地址的获取在前于在后的问题，我们假设这种获取操作与成员变量内存地址读写的操作需要为原子操作的话，这种缩短线程不安全区域的方式只能减少线程不安全的概率，但不能保证线程安全。当然，这种假设是不成立的。&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;我们再看下&lt;/span&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;armv7架构下-Os的具体的实现：&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;Atomicity`-[Test nonatomicInteger]:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;-&amp;gt;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(39, 42, 216);&quot;&gt;0x352be&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(39, 42, 216);&quot;&gt;+0&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; movw &amp;nbsp; r1,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(0, 132, 0);&quot;&gt;#0x4706&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(39, 42, 216);&quot;&gt;0x352c2&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(39, 42, 216);&quot;&gt;+4&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;gt;:&amp;nbsp; movt &amp;nbsp; r1,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(0, 132, 0);&quot;&gt;#0x0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(39, 42, 216);&quot;&gt;0x352c6&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(39, 42, 216);&quot;&gt;+8&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;gt;:&amp;nbsp; add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, pc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(39, 42, 216);&quot;&gt;0x352c8&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(39, 42, 216);&quot;&gt;+10&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r1]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(39, 42, 216);&quot;&gt;0x352ca&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(39, 42, 216);&quot;&gt;+12&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r0, r1]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(39, 42, 216);&quot;&gt;0x352cc&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(39, 42, 216);&quot;&gt;+14&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lr&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;Atomicity`-[Test setNonatomicInteger:]:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352ce&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+0&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; movw &amp;nbsp; r1,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x46f6&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352d2&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+4&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; movt &amp;nbsp; r1,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352d6&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+8&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, pc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352d8&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+10&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r1]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352da&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+12&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [r0, r1]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352dc&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+14&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lr&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;Atomicity`-[Test atomicInteger]:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352de&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+0&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; movw &amp;nbsp; r1,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x46ea&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352e2&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+4&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; movt &amp;nbsp; r1,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352e6&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+8&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, pc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352e8&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+10&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r1]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352ea&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+12&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r0, r1]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352ec&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+14&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lr&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;Atomicity`-[Test setAtomicInteger:]:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;-&amp;gt;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352ee&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+0&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; movw &amp;nbsp; r1,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x46da&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352f2&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+4&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; movt &amp;nbsp; r1,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;#0x0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352f6&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+8&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;:&amp;nbsp; add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, pc&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352f8&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+10&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r1]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352fa&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+12&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [r0, r1]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0x352fc&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;+14&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lr&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;对比可以看出，nonatomic与atomic的实现基本一致。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;小结：&lt;/span&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;对于NSInteger来说，nonatomic和atomic的实现是一致的，且都是线程安全的，这是由指令本身的原子特性所决定的。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;我们可能会猜想，是不是所有的基础数据类型都类似呢？只要内存区域的操作是原子的，即可无需其他同步机制即可保证线程安全，但是对于占用内存更大的数据类型，一条指令无法完成读取操作的话，就会需要其他同步机制来保证原子操作了。我新增了如下测试代码：&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;typedef&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;struct&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;tagStruct {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(112, 61, 170);&quot;&gt;NSInteger&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;a;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(112, 61, 170);&quot;&gt;NSInteger&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;b;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(112, 61, 170);&quot;&gt;NSInteger&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;c;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(112, 61, 170);&quot;&gt;NSInteger&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;d;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;} Struct;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;typedef&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;struct&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;tagShortStruct {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;char&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;a;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;&amp;nbsp; &amp;nbsp; short&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;b;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;} ShortStruct;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@interface&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;Test :&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(112, 61, 170);&quot;&gt;NSObject&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nonatomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color:rgb(255, 255, 255);font-size:0.8rem;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(112, 61, 170);&quot;&gt;char&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;nonatomicChar;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;atomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;) &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(112, 61, 170);&quot;&gt;char&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;atomicChar&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nonatomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;Struct&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;nonatomicStruct;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;atomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;Struct&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;atomicStruct;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nonatomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;ShortStruct&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;nonatomicShortStruct;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;atomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;ShortStruct&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;atomicShortStruct;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nonatomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;long&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;long&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;nonatomicLongLong;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;atomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;long&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;long&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;atomicLongLong;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nonatomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;float&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;nonatomicFloat;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;atomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;float&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;atomicFloat;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nonatomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;double&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;nonatomicDouble;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;atomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;double&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;atomicDouble;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;通过同样的方式得到的结论是：&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;对于基础数据类型，如果内存大小小于等于机器字长，则nonatomic和atomic的实现是一样的，且是线程安全的，无论它是整形、浮点型、数组、结构体、联合、指针；如果内存大小大于机器字长，则nonatomic是没有任何同步机制的，而atomic的同步机制通过函数objc_copyStruct中的自旋锁保证。nonatomic的线程不安全性导致在多线程访问时可能发生getter与setter的数据错误。
&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;objc_copyStruct(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*dest,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*src,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(112, 61, 170);&quot;&gt;ptrdiff_t&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;size,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;BOOL&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;atomic,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;BOOL&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;hasStrong&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;__unused&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;spinlock_t&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*srcLock =&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nil&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;spinlock_t&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*dstLock =&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nil&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(atomic) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; srcLock = &amp;amp;StructLocks[src];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; dstLock = &amp;amp;StructLocks[dest];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; spinlock_t::lockTwo(srcLock, dstLock);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(62, 30, 129);&quot;&gt;memmove&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;(dest, src, size);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(atomic) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; spinlock_t::unlockTwo(srcLock, dstLock);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;下面我们看下一般的id类型，id的本质是指针，指针大小为机器字长，理论上来说是线程安全的，但由于涉及到了内存管理，所以并没有那么简单。
&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;nonatomic&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;strong&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;nonatomicStrongObject;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;atomic&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;strong&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;atomicStrongObject;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;nonatomic&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;unsafe_unretained&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;nonatomicUnsafeUnretainedObject;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;atomic&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;unsafe_unretained&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;atomicUnsafeUnretainedObject;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;nonatomic&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;weak&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;nonatomicWeakObject;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;atomic&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;weak&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;atomicWeakObject;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;nonatomic&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;copy&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;nonatomicCopyObject;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;atomic&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;copy&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;atomicCopyObject;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;我们单独分析每一个方法并用伪代码方式来展示：&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)nonatomicStrongObject {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;_nonatomicStrongObject&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;; // 线程不安全，可能会返回野指针&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)setNonatomicStrongObject:(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)nonatomicStrongObject {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp;objc_storeStrong(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;+&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;OBJC_IVAR_$_Test$_nonatomicStrongObject,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;nonatomicStrongObject&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;); //&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_storeStrong非线程安全函数&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)atomicStrongObject {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_getProperty(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;OBJC_IVAR_$_Test$_atomicStrongObject,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;YES&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;; // YES，线程安全&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)setAtomicStrongObject:(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)atomicStrongObject {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_setProperty_atomic(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;atomicStrongObject,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;OBJC_IVAR_$_Test$_atomicStrongObject&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;); //&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_setProperty_atomic线程安全&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)nonatomicUnsafeUnretainedObject {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(79, 129, 135);&quot;&gt;_nonatomicUnsafeUnretainedObject&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;; // 线程安全，但指针不一定安全&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)setNonatomicUnsafeUnretainedObject:(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)nonatomicUnsafeUnretainedObject {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(79, 129, 135);&quot;&gt;_nonatomicUnsafeUnretainedObject&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;= nonatomicUnsafeUnretainedObject;&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;// 线程安全，&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;但指针不一定安全&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)atomicUnsafeUnretainedObject {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(79, 129, 135);&quot;&gt;_atomicUnsafeUnretainedObject&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;; // 与&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;nonatomic实现一致&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)setAtomicUnsafeUnretainedObject:(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)atomicUnsafeUnretainedObject {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(79, 129, 135);&quot;&gt;_atomicUnsafeUnretainedObject&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;= atomicUnsafeUnretainedObject;&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;// 与&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;nonatomic实现一致&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)nonatomicWeakObject {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_autoreleaseReturnValue(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_loadWeakRetained(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;+ OBJC_IVAR_$_Test$_nonatomicWeakObject&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;))&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;; //&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_loadWeakRetained线程安全&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)setNonatomicWeakObject:(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)nonatomicWeakObject {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_storeWeak(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;+ OBJC_IVAR_$_Test$_nonatomicWeakObject&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;nonatomicWeakObject&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;); //&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_storeWeak线程安全&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)atomicWeakObject {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_autoreleaseReturnValue(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_loadWeakRetained(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;+ OBJC_IVAR_$_Test$_atomicWeakObject&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;))&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;; // 与&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;nonatomic实现一致&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)setAtomicWeakObject:(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)atomicWeakObject {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_storeWeak(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;+ OBJC_IVAR_$_Test$_atomicWeakObject&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;atomicWeakObject&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;);&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;// 与&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;nonatomic实现一致&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)nonatomicCopyObject {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_getProperty(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;OBJC_IVAR_$_Test$_nonatomicCopyObject,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;NO&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;; // 线程不安全&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)setNonatomicCopyObject:(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)nonatomicCopyObject {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_setProperty_nonatomic_copy&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;nonatomicCopyObject&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;OBJC_IVAR_$_Test$_nonatomicCopyObject&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;);&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;// 线程不安全&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)atomicCopyObject {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_getProperty(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;OBJC_IVAR_$_Test$_atomicCopyObject,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;YES&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;; // 线程安全，与strong实现一致&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)setAtomicCopyObject:(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)atomicCopyObject {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_setProperty_atomic_copy&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;atomicCopyObject&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;OBJC_IVAR_$_Test$_atomicCopyObject&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;);&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;// 线程安全&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;objc_storeStrong(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;*location,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;obj)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;prev = *location;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(obj == prev) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(49, 89, 93);&quot;&gt;objc_retain&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(obj);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; *location = obj;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(49, 89, 93);&quot;&gt;objc_release&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(prev);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;objc_getProperty(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;SEL&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(112, 61, 170);&quot;&gt;ptrdiff_t&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;offset,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;BOOL&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;atomic) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(offset ==&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;object_getClass(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// Retain release world&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*slot = (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*) ((&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;char&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*)&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;+ offset);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(!atomic)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*slot;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// Atomic retain release world&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;spinlock_t&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;amp; slotlock = PropertyLocks[slot];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; slotlock.lock();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;value =&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;objc_retain&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(*slot);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; slotlock.unlock();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// for performance, we (safely) issue the autorelease OUTSIDE of the spinlock.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;objc_autoreleaseReturnValue&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(value);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_setProperty_atomic(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;SEL&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;newValue,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(112, 61, 170);&quot;&gt;ptrdiff_t&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;offset)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;reallySetProperty&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;, newValue, offset,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;true&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;false&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;false&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;objc_loadWeakRetained(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*location)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;obj;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;result;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;Class&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;cls;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;SideTable&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*table;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;retry:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// fixme std::atomic this load&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; obj = *location;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(!obj)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nil&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(obj-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;isTaggedPointer&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;())&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;obj;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; table = &amp;amp;SideTables()[obj];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; table-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;lock&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(*location != obj) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; table-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;unlock&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;goto&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;retry;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; result = obj;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; cls = obj-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;ISA&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(! cls-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;hasCustomRR&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;()) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// Fast case. We know +initialize is complete because&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// default-RR can never be set before then.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(120, 73, 42);&quot;&gt;assert&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(cls-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;isInitialized&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;());&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(! obj-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;rootTryRetain&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;()) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; result =&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nil&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;else&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// Slow case. We must check for +initialize and call it outside&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// the lock if necessary in order to avoid deadlocks.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(cls-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;isInitialized&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;() ||&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;_thisThreadIsInitializingClass&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(cls)) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;BOOL&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(*tryRetain)(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;SEL&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;) = (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;BOOL&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(*)(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;SEL&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;))&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; class_getMethodImplementation(cls, SEL_retainWeakReference);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;((&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;IMP&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)tryRetain ==&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(62, 30, 129);&quot;&gt;_objc_msgForward&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; result =&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nil&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;else&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(! (*tryRetain)(obj,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;SEL_retainWeakReference&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; result =&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nil&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;else&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; table-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;unlock&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;_class_initialize&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(cls);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;goto&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;retry;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; table-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;unlock&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;result;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;template&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;HaveOld&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;haveOld,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;HaveNew&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;haveNew,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;CrashIfDeallocating&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;crashIfDeallocating&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;static&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;storeWeak(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*location,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;objc_object&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*newObj)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(120, 73, 42);&quot;&gt;assert&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(haveOld&amp;nbsp; ||&amp;nbsp; haveNew);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(!haveNew)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(120, 73, 42);&quot;&gt;assert&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(newObj ==&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nil&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;Class&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;previouslyInitializedClass =&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nil&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;oldObj;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;SideTable&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*oldTable;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;SideTable&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*newTable;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// Acquire locks for old and new values.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// Order by lock address to prevent lock ordering problems.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// Retry if the old value changes underneath us.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;retry:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(haveOld) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; oldObj = *location;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; oldTable = &amp;amp;SideTables()[oldObj];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;else&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; oldTable =&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nil&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(haveNew) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; newTable = &amp;amp;SideTables()[newObj];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;else&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; newTable =&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nil&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;SideTable&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;::lockTwo&amp;lt;haveOld, haveNew&amp;gt;(oldTable, newTable);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(haveOld&amp;nbsp; &amp;amp;&amp;amp;&amp;nbsp; *location != oldObj) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;SideTable&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;::unlockTwo&amp;lt;haveOld, haveNew&amp;gt;(oldTable, newTable);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;goto&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;retry;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// Prevent a deadlock between the weak reference machinery&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// and the +initialize machinery by ensuring that no&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// weakly-referenced object has an un-+initialized isa.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(haveNew&amp;nbsp; &amp;amp;&amp;amp;&amp;nbsp; newObj) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;Class&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;cls = newObj-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;getIsa&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(cls != previouslyInitializedClass&amp;nbsp; &amp;amp;&amp;amp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; !((&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;objc_class&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*)cls)-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;isInitialized&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;())&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;SideTable&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;::unlockTwo&amp;lt;haveOld, haveNew&amp;gt;(oldTable, newTable);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;_class_initialize&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;_class_getNonMetaClass&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(cls, (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)newObj));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// If this class is finished with +initialize then we're good.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// If this class is still running +initialize on this thread&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// (i.e. +initialize called storeWeak on an instance of itself)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// then we may proceed but it will appear initializing and&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// not yet initialized to the check above.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// Instead set previouslyInitializedClass to recognize it on retry.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; previouslyInitializedClass = cls;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;goto&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;retry;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// Clean up old value, if any.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(haveOld) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; weak_unregister_no_lock(&amp;amp;oldTable-&amp;gt;weak_table, oldObj, location);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// Assign new value, if any.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(haveNew) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; newObj = (objc_object *)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; weak_register_no_lock(&amp;amp;newTable-&amp;gt;weak_table, (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)newObj, location,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; crashIfDeallocating);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// weak_register_no_lock returns nil if weak store should be rejected&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// Set is-weakly-referenced bit in refcount table.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(newObj&amp;nbsp; &amp;amp;&amp;amp;&amp;nbsp; !newObj-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;isTaggedPointer&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;()) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; newObj-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;setWeaklyReferenced_nolock&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// Do not set *location anywhere else. That would introduce a race.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; *location = (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)newObj;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;else&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// No new value. The storage is not changed.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;SideTable&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;::unlockTwo&amp;lt;haveOld, haveNew&amp;gt;(oldTable, newTable);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)newObj;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_setProperty_nonatomic_copy(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;SEL&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;newValue,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(112, 61, 170);&quot;&gt;ptrdiff_t&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;offset)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;reallySetProperty&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;, newValue, offset,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;false&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;true&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;false&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_setProperty_atomic_copy(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;SEL&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;newValue,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(112, 61, 170);&quot;&gt;ptrdiff_t&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;offset)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;reallySetProperty&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;, newValue, offset,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;true&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;true&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;false&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;static&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;inline&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;reallySetProperty(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;SEL&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;newValue,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(112, 61, 170);&quot;&gt;ptrdiff_t&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;offset,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;bool&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;atomic,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;bool&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;copy,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;bool&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;mutableCopy)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;__attribute__&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;((always_inline));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;static&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;inline&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;reallySetProperty(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;SEL&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;newValue,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(112, 61, 170);&quot;&gt;ptrdiff_t&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;offset,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;bool&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;atomic,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;bool&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;copy,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;bool&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;mutableCopy)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(offset ==&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(39, 42, 216);&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; object_setClass(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;, newValue);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;oldValue;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*slot = (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*) ((&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;char&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*)&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;+ offset);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(copy) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; newValue = [newValue&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;copyWithZone&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nil&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;else&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(mutableCopy) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; newValue = [newValue&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;mutableCopyWithZone&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nil&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;else&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(*slot == newValue)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; newValue =&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;objc_retain&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(newValue);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(!atomic) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; oldValue = *slot;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; *slot = newValue;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;else&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;spinlock_t&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;amp; slotlock = PropertyLocks[slot];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; slotlock.lock();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; oldValue = *slot;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; *slot = newValue;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; slotlock.unlock();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;objc_release&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(oldValue);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;小结：&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;weak是线程安全的，nonatomic和atomic实现一致；&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;unsafe_unretained是线程安全的，但本身指针的合法性自身无法保证；&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;strong的setter在&lt;/span&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;nonatomic情况下&lt;/span&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;是非线程安全的，atomic情况下是线程安全的，getter都是线程安全的；&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;copy与&lt;/span&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;strong的类似，&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;在&lt;/span&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;nonatomic情况下&lt;/span&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;是非线程安全的，atomic情况下是线程安全的。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;具体我们来看下这几个函数的线程不安全性，以及产生的后果。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size:0.933rem;&quot; face=&quot;Menlo&quot;&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;objc_storeStrong代码如下：&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_storeStrong(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;*location,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;obj)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;prev = *location;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(obj == prev) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(49, 89, 93);&quot;&gt;objc_retain&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(obj);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; *location = obj;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(49, 89, 93);&quot;&gt;objc_release&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(prev);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;假如，self.nonatomicStrong是a，此时同时两个线程分别设置&lt;/span&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;self.nonatomicStrong = b与&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;self.nonatomicStrong = c，两个线程都执行到了&lt;span style=&quot;font-size: 0.933rem; color: rgb(49, 89, 93);&quot;&gt;objc_retain&lt;/span&gt;&lt;span style=&quot;font-size: 0.933rem; color: rgb(49, 89, 93);&quot;&gt;(obj);&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;线程1&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_storeStrong(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;*location,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;obj) // location为self+&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;OBJC_IVAR_$_Test$_nonatomicStrongObject，obj为b&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;prev = *location; // prev为a&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(obj == prev) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;-&amp;gt; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;objc_retain&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;(obj);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; *location = obj;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(49, 89, 93);&quot;&gt;objc_release&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(prev);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;线程2&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_storeStrong(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;*location,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;obj)&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;// location为self+&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;OBJC_IVAR_$_Test$_nonatomicStrongObject，obj为c&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;prev = *location;&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;// prev为a&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;(obj == prev) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;-&amp;gt; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(49, 89, 93);&quot;&gt;objc_retain&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(obj);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; *location = obj;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(49, 89, 93);&quot;&gt;objc_release&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(prev);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size:0.933rem;&quot;&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;然后跑完线程1，b做retain，&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;_nonatomicStrongObject = b，a做release；&lt;/span&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;再跑完线程2，c做retain，&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;_nonatomicStrongObject = c，a做release。结果与我们预期的结果并不一致，a释放了两次，而本来应该释放的b或c没有被释放而产生了内存泄漏，如果a在运行之前的retainCount就是1的话，就会立即发生崩溃；如果后续有时机把a释放完全的话，也会在最后一次release动作的时候发生崩溃，除非a永远不会被释放。总之结果已经不可预期了。至于&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;*location = obj;在SMP系统的并行也会在最终有个有先有后的结果，这个应该是MMU的事情，我们不需要关心CPU缓存等具体细节了。&lt;/span&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;临近尾声，我们来看看特殊的id类型，block。block在内存上默认修饰符是copy，如果是strong，也会转换成copy。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nonatomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;copy&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;(^nonatomicCopyBlock)(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;atomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;copy&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;(^atomicCopyBlock)(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162); text-decoration: underline;&quot;&gt;@&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nonatomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;retain&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;(^nonatomicRetainBlock)(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162); text-decoration: underline;&quot;&gt;@&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;atomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;retain&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;(^atomicRetainBlock)(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nonatomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;weak&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(^nonatomicWeakBlock)(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;atomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;weak&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(^atomicWeakBlock)(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;nonatomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;unsafe_unretained&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(^nonatomicUnsafeUnretainedBlock)(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;@property&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;atomic&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;unsafe_unretained&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(^atomicUnsafeUnretainedBlock)(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;我们发现copy、weak、unsafe_unretained的block并没有特殊性，而只有retain是特殊的，这也是ARC下retain和strong的唯一区别：&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(^)(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;))nonatomicRetainBlock {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;_nonatomicRetainBlock&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;; // 和&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;nonatomicStrongObject&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;一样&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)setNonatomicRetainBlock:(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(^)(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;))&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;nonatomicRetainBlock&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_retainBlock(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;nonatomicRetainBlock&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;(^&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;prev&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)) =&amp;nbsp;&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;_nonatomicRetainBlock&lt;span style=&quot;font-size: 0.8rem; color: rgb(0, 0, 0);&quot;&gt;;&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;// 线程不安全&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:0.8rem;&quot;&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;_nonatomicRetainBlock&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;nonatomicRetainBlock;&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;// 线程不安全&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size:0.8rem;&quot;&gt;&lt;span style=&quot;font-size:0.8rem;&quot;&gt;&lt;span style=&quot;font-size:0.8rem;&quot;&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_release(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;prev&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(^)(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;))atomicRetainBlock {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_getProperty(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;OBJC_IVAR_$_Test$_atomic&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;RetainBlock&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;YES&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;; // 和&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;atomicStrongObject&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;一样，&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;YES，线程安全&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;- (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;)setAtomicRetainBlock:(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(^)(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;))&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;atomicRetainBlock&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_setProperty_atomic(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;_cmd&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;, &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;atomicRetainBlock&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;OBJC_IVAR_$_Test$_atomic&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;RetainBlock&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;); //&amp;nbsp;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;和&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;atomicStrongObject&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;一样，&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_setProperty_atomic线程安全&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_retainBlock(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;x) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(186, 45, 162);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255); color: rgb(62, 30, 129);&quot;&gt;_Block_copy&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem; background-color: rgb(255, 255, 255);&quot;&gt;(x);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;最后，源码中有个叫&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_copyCppObjectAtomic&lt;/span&gt;&lt;span&gt;的函数，这是我们遗漏的一种属性，与&lt;/span&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_copyStruct&lt;/span&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;类似。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;font-size: 0.8rem;&quot;&gt;objc_copyCppObjectAtomic(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*dest,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*src,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;(*copyHelper) (&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*dest,&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(186, 45, 162);&quot;&gt;void&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*source)) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;spinlock_t&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*srcLock = &amp;amp;CppObjectLocks[src];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(79, 129, 135);&quot;&gt;spinlock_t&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;*dstLock = &amp;amp;CppObjectLocks[dest];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; spinlock_t::lockTwo(srcLock, dstLock);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br style=&quot;font-size: 0.8rem;&quot; /&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; &lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem; color: rgb(0, 132, 0);&quot;&gt;// let C++ code perform the actual copy.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; copyHelper(dest, src);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; spinlock_t::unlockTwo(srcLock, dstLock);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 0.8rem;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size:0.933rem;&quot;&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;总结：&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;1 非OC对象，无需多条指令读写内存的短数据类型，nonatomic和atomic无区别，都是线程安全的；&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;2&lt;/span&gt; &lt;span&gt;非OC对象，需多条指令读写内存的长数据类型，&lt;span&gt;nonatomic&lt;/span&gt;&lt;span&gt;是线程不安全的，atomic&lt;/span&gt;&lt;span&gt;是线程安全的；&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;3 OC对象，没有内存关系的unsafe_unretained、assign，&lt;span&gt;nonatomic和atomic无区别，都是线程安全的，但指针不一定安全；&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;4 OC对象，weak，&lt;span&gt;nonatomic和atomic无区别，都是线程安全的；&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;5 OC对象，strong、copy、&lt;/span&gt;&lt;span&gt;retain&lt;/span&gt;&lt;span&gt;，&lt;/span&gt;&lt;span&gt;nonatomic&lt;/span&gt;&lt;span&gt;是线程不安全的&lt;/span&gt;&lt;span&gt;，&lt;/span&gt;&lt;span&gt;atomic&lt;/span&gt;&lt;span&gt;是线程安全的；&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;6 同步机制采用的是自旋锁，并不是递归锁@synchronized语句（&lt;/span&gt;&lt;font style=&quot;font-size:0.933rem;&quot;&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;objc_sync_enter与&lt;/span&gt;&lt;span style=&quot;font-size: 0.933rem;&quot;&gt;objc_sync_exit&lt;/span&gt;&lt;/font&gt;&lt;span&gt;）。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;7 对于线程不安全的基础数据类型，多线程访问可能会发生数据错误，&lt;span&gt;对于线程不安全的id类型，多线程访问可能会发生引用计数错误。&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;br /&gt;&lt;p&gt;&lt;/p&gt;

  &lt;/div&gt;</content><author><name></name></author><summary type="html">第一篇博客，但愿不是最后一篇。先上一张自己照片再说。 “nonatomic和atomic的区别”是一个热门的iOS问题，我在网上看了很多文章，大致有如下观点： 1 nonatomic是线程不安全的； 2 atomic是线程安全的； 3 atomic未必线程安全； 4 atomic使用@synchronized语法实现的 带着这个疑问，我写了测试程序如下： @interface Test : NSObject@property (nonatomic) NSInteger nonatomicInteger;@property (atomic) NSInteger atomicInteger;@end@implementation Test- (void)test {&amp;nbsp;&amp;nbsp;&amp;nbsp; self.nonatomicInteger = self.nonatomicInteger;&amp;nbsp;&amp;nbsp;&amp;nbsp; self.atomicInteger = self.atomicInteger;}@end在两个property处打断点，可以看到在armv7架构下-O0的具体的实现如下： Atomicity`-[Test nonatomicInteger]:&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x1070f8 &amp;lt;+0&amp;gt;:&amp;nbsp; sub&amp;nbsp;&amp;nbsp;&amp;nbsp; sp, #0x8&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x1070fa &amp;lt;+2&amp;gt;:&amp;nbsp; movw &amp;nbsp; r2, #0x48ca&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x1070fe &amp;lt;+6&amp;gt;:&amp;nbsp; movt &amp;nbsp; r2, #0x0&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107102 &amp;lt;+10&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, pc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107104 &amp;lt;+12&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp, #0x4]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107106 &amp;lt;+14&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp]-&amp;gt;&amp;nbsp; 0x107108 &amp;lt;+16&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp, #0x4]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10710a &amp;lt;+18&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r2]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10710c &amp;lt;+20&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, r1&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10710e &amp;lt;+22&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r0]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107110 &amp;lt;+24&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; sp, #0x8&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107112 &amp;lt;+26&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lrAtomicity`-[Test setNonatomicInteger:]:&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107114 &amp;lt;+0&amp;gt;:&amp;nbsp; sub&amp;nbsp;&amp;nbsp;&amp;nbsp; sp, #0xc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107116 &amp;lt;+2&amp;gt;:&amp;nbsp; movw &amp;nbsp; r3, #0x48ae&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10711a &amp;lt;+6&amp;gt;:&amp;nbsp; movt &amp;nbsp; r3, #0x0&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10711e &amp;lt;+10&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r3, pc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107120 &amp;lt;+12&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp, #0x8]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107122 &amp;lt;+14&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp, #0x4]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107124 &amp;lt;+16&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [sp]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107126 &amp;lt;+18&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107128 &amp;lt;+20&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp, #0x8]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10712a &amp;lt;+22&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [r3]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10712c &amp;lt;+24&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, r2&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10712e &amp;lt;+26&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r1]-&amp;gt;&amp;nbsp; 0x107130 &amp;lt;+28&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; sp, #0xc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107132 &amp;lt;+30&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lrAtomicity`-[Test atomicInteger]:&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107134 &amp;lt;+0&amp;gt;:&amp;nbsp; sub&amp;nbsp;&amp;nbsp;&amp;nbsp; sp, #0x8&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107136 &amp;lt;+2&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp, #0x4]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107138 &amp;lt;+4&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp]-&amp;gt;&amp;nbsp; 0x10713a &amp;lt;+6&amp;gt;:&amp;nbsp; ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp, #0x4]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10713c &amp;lt;+8&amp;gt;:&amp;nbsp; movw &amp;nbsp; r1, #0x488c&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107140 &amp;lt;+12&amp;gt;: movt &amp;nbsp; r1, #0x0&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107144 &amp;lt;+16&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, pc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107146 &amp;lt;+18&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r1]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107148 &amp;lt;+20&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r0, r1]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10714a &amp;lt;+22&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; sp, #0x8&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10714c &amp;lt;+24&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lrAtomicity`-[Test setAtomicInteger:]:&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10714e &amp;lt;+0&amp;gt;:&amp;nbsp; sub&amp;nbsp;&amp;nbsp;&amp;nbsp; sp, #0xc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107150 &amp;lt;+2&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp, #0x8]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107152 &amp;lt;+4&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp, #0x4]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107154 &amp;lt;+6&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [sp]-&amp;gt;&amp;nbsp; 0x107156 &amp;lt;+8&amp;gt;:&amp;nbsp; ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp, #0x8]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107158 &amp;lt;+10&amp;gt;: movw &amp;nbsp; r1, #0x4870&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10715c &amp;lt;+14&amp;gt;: movt &amp;nbsp; r1, #0x0&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107160 &amp;lt;+18&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, pc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107162 &amp;lt;+20&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r1]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107164 &amp;lt;+22&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [sp]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107166 &amp;lt;+24&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [r0, r1]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107168 &amp;lt;+26&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; sp, #0xc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10716a &amp;lt;+28&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lr下面对每条指令进行标注，结果如下：Atomicity`-[Test nonatomicInteger]:&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x1070f8 &amp;lt;+0&amp;gt;:&amp;nbsp; sub&amp;nbsp;&amp;nbsp;&amp;nbsp; sp, #0x8&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;; 分配栈空间&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x1070fa &amp;lt;+2&amp;gt;:&amp;nbsp; movw &amp;nbsp; r2, #0x48ca&amp;nbsp; &amp;nbsp; &amp;nbsp;; r2 =&amp;nbsp;0x48ca&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x1070fe &amp;lt;+6&amp;gt;:&amp;nbsp; movt &amp;nbsp; r2, #0x0&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;;&amp;nbsp;r2 = r2 |&amp;nbsp;0x00000&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107102 &amp;lt;+10&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, pc&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;; r2 = r2 +&amp;nbsp;0x107106 (armv7三级流水线，pc = pc -&amp;gt; 2)&amp;nbsp;运行完此指令后register read后会发现r2 = 0x0010b9d0&amp;nbsp; Atomicity`Test._nonatomicInteger，即三条指令通过pc定位到常量区获取到_nonatomicInteger成员变量的地址偏移量存储地址&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107104 &amp;lt;+12&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp, #0x4] &amp;nbsp;; 保存参数r0 self放在栈sp+4的位置&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107106 &amp;lt;+14&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp]&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;; 保存参数r1 self放在栈sp的位置&amp;nbsp; &amp;nbsp;&amp;nbsp;0x107108 &amp;lt;+16&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp, #0x4]&amp;nbsp;&amp;nbsp;; 取出self放在r0&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10710a &amp;lt;+18&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r2]&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;; r1 =&amp;nbsp;nonatomicInteger offset, 结果为4 因为class_getInstanceSize([NSObject class])为4，nonatomicInteger往后排&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10710c &amp;lt;+20&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, r1&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;; r0 = r0 + r1, 即r0 = self + 4，r0为&amp;amp;_nonatomicInteger&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10710e &amp;lt;+22&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r0] &amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;; r0 = *r0，即r0 =&amp;nbsp;_nonatomicInteger&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107110 &amp;lt;+24&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; sp, #0x8&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;; 回收栈空间&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107112 &amp;lt;+26&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lr&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp; ; 子程序返回Atomicity`-[Test setNonatomicInteger:]:&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107114 &amp;lt;+0&amp;gt;:&amp;nbsp; sub&amp;nbsp;&amp;nbsp;&amp;nbsp; sp, #0xc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107116 &amp;lt;+2&amp;gt;:&amp;nbsp; movw &amp;nbsp; r3, #0x48ae&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10711a &amp;lt;+6&amp;gt;:&amp;nbsp; movt &amp;nbsp; r3, #0x0&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10711e &amp;lt;+10&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r3, pc&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp; ; r3为_nonatomicInteger成员变量的地址偏移量存储地址&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107120 &amp;lt;+12&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp, #0x8]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107122 &amp;lt;+14&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp, #0x4]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107124 &amp;lt;+16&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [sp]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ; 保存参数r2 nonatomicInteger放在栈sp的位置&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107126 &amp;lt;+18&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp]&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp; &amp;nbsp; ; 取出nonatomicInteger放在r0&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107128 &amp;lt;+20&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp, #0x8]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10712a &amp;lt;+22&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [r3] &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;; r2 =&amp;nbsp;nonatomicInteger offset, 结果为4&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10712c &amp;lt;+24&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, r2 &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;;&amp;nbsp;r1 = r1 + r2, r1为&amp;amp;_nonatomicInteger&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10712e &amp;lt;+26&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r1] &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;; *r1 = r0,&amp;nbsp;_nonatomicInteger =&amp;nbsp;nonatomicInteger;&amp;nbsp; &amp;nbsp;&amp;nbsp;0x107130 &amp;lt;+28&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; sp, #0xc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107132 &amp;lt;+30&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lrAtomicity`-[Test atomicInteger]:&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107134 &amp;lt;+0&amp;gt;:&amp;nbsp; sub&amp;nbsp;&amp;nbsp;&amp;nbsp; sp, #0x8&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107136 &amp;lt;+2&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp, #0x4]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107138 &amp;lt;+4&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp]&amp;nbsp; &amp;nbsp;&amp;nbsp;0x10713a &amp;lt;+6&amp;gt;:&amp;nbsp; ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp, #0x4]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10713c &amp;lt;+8&amp;gt;:&amp;nbsp; movw &amp;nbsp; r1, #0x488c&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107140 &amp;lt;+12&amp;gt;: movt &amp;nbsp; r1, #0x0&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107144 &amp;lt;+16&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, pc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107146 &amp;lt;+18&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r1]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107148 &amp;lt;+20&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r0, r1]&amp;nbsp; &amp;nbsp; ; r0 = *(r0 + r1)&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10714a &amp;lt;+22&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; sp, #0x8&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10714c &amp;lt;+24&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lrAtomicity`-[Test setAtomicInteger:]:&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10714e &amp;lt;+0&amp;gt;:&amp;nbsp; sub&amp;nbsp;&amp;nbsp;&amp;nbsp; sp, #0xc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107150 &amp;lt;+2&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp, #0x8]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107152 &amp;lt;+4&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [sp, #0x4]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107154 &amp;lt;+6&amp;gt;:&amp;nbsp; str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [sp]&amp;nbsp; &amp;nbsp;&amp;nbsp;0x107156 &amp;lt;+8&amp;gt;:&amp;nbsp; ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [sp, #0x8]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107158 &amp;lt;+10&amp;gt;: movw &amp;nbsp; r1, #0x4870&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10715c &amp;lt;+14&amp;gt;: movt &amp;nbsp; r1, #0x0&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107160 &amp;lt;+18&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, pc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107162 &amp;lt;+20&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r1]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107164 &amp;lt;+22&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [sp]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107166 &amp;lt;+24&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [r0, r1]&amp;nbsp; &amp;nbsp; ; *(r0 + r1) = r2&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x107168 &amp;lt;+26&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; sp, #0xc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10716a &amp;lt;+28&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lr通过比较，可以看到对于NSInteger类型的属性，nonatomic比atomic的getter和setter都是多一条指令的，且无任何加锁的逻辑。比起nonatomic，atomic的实现中，偏移量常量地址的获取时机滞后，两条指令合并为一条。下面我们提取出关键指令来做对比：Atomicity`-[Test nonatomicInteger]:&amp;nbsp; &amp;nbsp;&amp;nbsp;0x10710c &amp;lt;+20&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, r1&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;; r0 = self + 4&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10710e &amp;lt;+22&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r0] &amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;; r0 = *r0Atomicity`-[Test setNonatomicInteger:]:&amp;nbsp; &amp;nbsp;&amp;nbsp;0x10712c &amp;lt;+24&amp;gt;: add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, r2 &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;;&amp;nbsp;r1 = self + 4&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x10712e &amp;lt;+26&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r1] &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;; *r1 = r0Atomicity`-[Test atomicInteger]:&amp;nbsp; &amp;nbsp;&amp;nbsp;0x107148 &amp;lt;+20&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r0, r1]&amp;nbsp; &amp;nbsp; ; r0 = *(r0 + r1) // ret = *(self + 8)Atomicity`-[Test setAtomicInteger:]:&amp;nbsp; &amp;nbsp;&amp;nbsp;0x107166 &amp;lt;+24&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [r0, r1]&amp;nbsp; &amp;nbsp; ; *(r0 + r1) = r2&amp;nbsp;// *(self + 8) =&amp;nbsp;atomicInteger;与对于每个方法体来说，临界区为成员变量所在的那块sizeof(NSInteger)大小的内存区域，所以可以看出nonatomic的实现等价于atomic的实现。至于偏移量常量地址的获取在前于在后的问题，我们假设这种获取操作与成员变量内存地址读写的操作需要为原子操作的话，这种缩短线程不安全区域的方式只能减少线程不安全的概率，但不能保证线程安全。当然，这种假设是不成立的。我们再看下armv7架构下-Os的具体的实现：Atomicity`-[Test nonatomicInteger]:-&amp;gt;&amp;nbsp; 0x352be &amp;lt;+0&amp;gt;:&amp;nbsp; movw &amp;nbsp; r1, #0x4706&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352c2 &amp;lt;+4&amp;gt;:&amp;nbsp; movt &amp;nbsp; r1, #0x0&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352c6 &amp;lt;+8&amp;gt;:&amp;nbsp; add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, pc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352c8 &amp;lt;+10&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r1]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352ca &amp;lt;+12&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r0, r1]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352cc &amp;lt;+14&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lrAtomicity`-[Test setNonatomicInteger:]:&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352ce &amp;lt;+0&amp;gt;:&amp;nbsp; movw &amp;nbsp; r1, #0x46f6&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352d2 &amp;lt;+4&amp;gt;:&amp;nbsp; movt &amp;nbsp; r1, #0x0&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352d6 &amp;lt;+8&amp;gt;:&amp;nbsp; add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, pc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352d8 &amp;lt;+10&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r1]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352da &amp;lt;+12&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [r0, r1]-&amp;gt;&amp;nbsp; 0x352dc &amp;lt;+14&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lrAtomicity`-[Test atomicInteger]:-&amp;gt;&amp;nbsp; 0x352de &amp;lt;+0&amp;gt;:&amp;nbsp; movw &amp;nbsp; r1, #0x46ea&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352e2 &amp;lt;+4&amp;gt;:&amp;nbsp; movt &amp;nbsp; r1, #0x0&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352e6 &amp;lt;+8&amp;gt;:&amp;nbsp; add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, pc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352e8 &amp;lt;+10&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r1]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352ea &amp;lt;+12&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r0, [r0, r1]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352ec &amp;lt;+14&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lrAtomicity`-[Test setAtomicInteger:]:-&amp;gt;&amp;nbsp; 0x352ee &amp;lt;+0&amp;gt;:&amp;nbsp; movw &amp;nbsp; r1, #0x46da&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352f2 &amp;lt;+4&amp;gt;:&amp;nbsp; movt &amp;nbsp; r1, #0x0&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352f6 &amp;lt;+8&amp;gt;:&amp;nbsp; add&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, pc&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352f8 &amp;lt;+10&amp;gt;: ldr&amp;nbsp;&amp;nbsp;&amp;nbsp; r1, [r1]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352fa &amp;lt;+12&amp;gt;: str&amp;nbsp;&amp;nbsp;&amp;nbsp; r2, [r0, r1]&amp;nbsp;&amp;nbsp;&amp;nbsp; 0x352fc &amp;lt;+14&amp;gt;: bx &amp;nbsp;&amp;nbsp;&amp;nbsp; lr对比可以看出，nonatomic与atomic的实现基本一致。小结：对于NSInteger来说，nonatomic和atomic的实现是一致的，且都是线程安全的，这是由指令本身的原子特性所决定的。我们可能会猜想，是不是所有的基础数据类型都类似呢？只要内存区域的操作是原子的，即可无需其他同步机制即可保证线程安全，但是对于占用内存更大的数据类型，一条指令无法完成读取操作的话，就会需要其他同步机制来保证原子操作了。我新增了如下测试代码：typedef struct tagStruct {&amp;nbsp;&amp;nbsp;&amp;nbsp; NSInteger a;&amp;nbsp;&amp;nbsp;&amp;nbsp; NSInteger b;&amp;nbsp;&amp;nbsp;&amp;nbsp; NSInteger c;&amp;nbsp;&amp;nbsp;&amp;nbsp; NSInteger d;} Struct;typedef struct tagShortStruct {&amp;nbsp;&amp;nbsp;&amp;nbsp; char a;&amp;nbsp; &amp;nbsp; short&amp;nbsp;b;} ShortStruct;@interface Test : NSObject@property (nonatomic) char&amp;nbsp;nonatomicChar;@property (atomic) char&amp;nbsp;atomicChar;@property (nonatomic) Struct nonatomicStruct;@property (atomic) Struct atomicStruct;@property (nonatomic) ShortStruct nonatomicShortStruct;@property (atomic) ShortStruct atomicShortStruct;@property (nonatomic) long long nonatomicLongLong;@property (atomic) long long atomicLongLong;@property (nonatomic) float nonatomicFloat;@property (atomic) float atomicFloat;@property (nonatomic) double nonatomicDouble;@property (atomic) double atomicDouble;@end通过同样的方式得到的结论是：对于基础数据类型，如果内存大小小于等于机器字长，则nonatomic和atomic的实现是一样的，且是线程安全的，无论它是整形、浮点型、数组、结构体、联合、指针；如果内存大小大于机器字长，则nonatomic是没有任何同步机制的，而atomic的同步机制通过函数objc_copyStruct中的自旋锁保证。nonatomic的线程不安全性导致在多线程访问时可能发生getter与setter的数据错误。 void objc_copyStruct(void *dest, const void *src, ptrdiff_t size, BOOL atomic, BOOL hasStrong __unused) {&amp;nbsp;&amp;nbsp;&amp;nbsp; spinlock_t *srcLock = nil;&amp;nbsp;&amp;nbsp;&amp;nbsp; spinlock_t *dstLock = nil;&amp;nbsp;&amp;nbsp;&amp;nbsp; if (atomic) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; srcLock = &amp;amp;StructLocks[src];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; dstLock = &amp;amp;StructLocks[dest];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; spinlock_t::lockTwo(srcLock, dstLock);&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp; memmove(dest, src, size);&amp;nbsp;&amp;nbsp;&amp;nbsp; if (atomic) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; spinlock_t::unlockTwo(srcLock, dstLock);&amp;nbsp;&amp;nbsp;&amp;nbsp; }}下面我们看下一般的id类型，id的本质是指针，指针大小为机器字长，理论上来说是线程安全的，但由于涉及到了内存管理，所以并没有那么简单。 @property (nonatomic, strong) id nonatomicStrongObject;@property (atomic, strong) id atomicStrongObject;@property (nonatomic, unsafe_unretained) id nonatomicUnsafeUnretainedObject;@property (atomic, unsafe_unretained) id atomicUnsafeUnretainedObject;@property (nonatomic, weak) id nonatomicWeakObject;@property (atomic, weak) id atomicWeakObject;@property (nonatomic, copy) id nonatomicCopyObject;@property (atomic, copy) id atomicCopyObject;我们单独分析每一个方法并用伪代码方式来展示：- (id)nonatomicStrongObject {&amp;nbsp;&amp;nbsp;&amp;nbsp; return _nonatomicStrongObject; // 线程不安全，可能会返回野指针}- (void)setNonatomicStrongObject:(id)nonatomicStrongObject {&amp;nbsp;&amp;nbsp; &amp;nbsp;objc_storeStrong(self&amp;nbsp;+ OBJC_IVAR_$_Test$_nonatomicStrongObject,&amp;nbsp;nonatomicStrongObject); //&amp;nbsp;objc_storeStrong非线程安全函数}- (id)atomicStrongObject {&amp;nbsp; &amp;nbsp;&amp;nbsp;return objc_getProperty(self, _cmd, OBJC_IVAR_$_Test$_atomicStrongObject, YES); // YES，线程安全}- (void)setAtomicStrongObject:(id)atomicStrongObject {&amp;nbsp;&amp;nbsp; &amp;nbsp;objc_setProperty_atomic(self, _cmd, atomicStrongObject,&amp;nbsp;OBJC_IVAR_$_Test$_atomicStrongObject); //&amp;nbsp;objc_setProperty_atomic线程安全}- (id)nonatomicUnsafeUnretainedObject {&amp;nbsp;&amp;nbsp;&amp;nbsp; return _nonatomicUnsafeUnretainedObject; // 线程安全，但指针不一定安全}- (void)setNonatomicUnsafeUnretainedObject:(id)nonatomicUnsafeUnretainedObject {&amp;nbsp;&amp;nbsp;&amp;nbsp; _nonatomicUnsafeUnretainedObject = nonatomicUnsafeUnretainedObject;&amp;nbsp;// 线程安全，但指针不一定安全}- (id)atomicUnsafeUnretainedObject {&amp;nbsp;&amp;nbsp;&amp;nbsp; return _atomicUnsafeUnretainedObject; // 与nonatomic实现一致}- (void)setAtomicUnsafeUnretainedObject:(id)atomicUnsafeUnretainedObject {&amp;nbsp;&amp;nbsp;&amp;nbsp; _atomicUnsafeUnretainedObject = atomicUnsafeUnretainedObject;&amp;nbsp;// 与nonatomic实现一致}- (id)nonatomicWeakObject {&amp;nbsp;&amp;nbsp;&amp;nbsp; return objc_autoreleaseReturnValue(objc_loadWeakRetained(self + OBJC_IVAR_$_Test$_nonatomicWeakObject)); //&amp;nbsp;objc_loadWeakRetained线程安全}- (void)setNonatomicWeakObject:(id)nonatomicWeakObject {&amp;nbsp;&amp;nbsp; &amp;nbsp;objc_storeWeak(self + OBJC_IVAR_$_Test$_nonatomicWeakObject, nonatomicWeakObject); //&amp;nbsp;objc_storeWeak线程安全}- (id)atomicWeakObject {&amp;nbsp;&amp;nbsp;&amp;nbsp; return objc_autoreleaseReturnValue(objc_loadWeakRetained(self + OBJC_IVAR_$_Test$_atomicWeakObject)); // 与nonatomic实现一致}- (void)setAtomicWeakObject:(id)atomicWeakObject {&amp;nbsp;&amp;nbsp; &amp;nbsp;objc_storeWeak(self + OBJC_IVAR_$_Test$_atomicWeakObject, atomicWeakObject);&amp;nbsp;// 与nonatomic实现一致}- (id)nonatomicCopyObject {&amp;nbsp;&amp;nbsp;&amp;nbsp; return objc_getProperty(self, _cmd, OBJC_IVAR_$_Test$_nonatomicCopyObject, NO); // 线程不安全}- (void)setNonatomicCopyObject:(id)nonatomicCopyObject {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;objc_setProperty_nonatomic_copy(self, _cmd, nonatomicCopyObject,&amp;nbsp;OBJC_IVAR_$_Test$_nonatomicCopyObject);&amp;nbsp;// 线程不安全}- (id)atomicCopyObject {&amp;nbsp;&amp;nbsp;&amp;nbsp; return objc_getProperty(self, _cmd, OBJC_IVAR_$_Test$_atomicCopyObject, YES); // 线程安全，与strong实现一致}- (void)setAtomicCopyObject:(id)atomicCopyObject {&amp;nbsp; &amp;nbsp;&amp;nbsp;objc_setProperty_atomic_copy(self, _cmd, atomicCopyObject,&amp;nbsp;OBJC_IVAR_$_Test$_atomicCopyObject);&amp;nbsp;// 线程安全}voidobjc_storeStrong(id *location, id obj){&amp;nbsp;&amp;nbsp;&amp;nbsp; id prev = *location;&amp;nbsp;&amp;nbsp;&amp;nbsp; if (obj == prev) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; return;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp; objc_retain(obj);&amp;nbsp;&amp;nbsp;&amp;nbsp; *location = obj;&amp;nbsp;&amp;nbsp;&amp;nbsp; objc_release(prev);}id objc_getProperty(id self, SEL _cmd, ptrdiff_t offset, BOOL atomic) {&amp;nbsp;&amp;nbsp;&amp;nbsp; if (offset == 0) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; return object_getClass(self);&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp; // Retain release world&amp;nbsp;&amp;nbsp;&amp;nbsp; id *slot = (id*) ((char*)self + offset);&amp;nbsp;&amp;nbsp;&amp;nbsp; if (!atomic) return *slot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // Atomic retain release world&amp;nbsp;&amp;nbsp;&amp;nbsp; spinlock_t&amp;amp; slotlock = PropertyLocks[slot];&amp;nbsp;&amp;nbsp;&amp;nbsp; slotlock.lock();&amp;nbsp;&amp;nbsp;&amp;nbsp; id value = objc_retain(*slot);&amp;nbsp;&amp;nbsp;&amp;nbsp; slotlock.unlock();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // for performance, we (safely) issue the autorelease OUTSIDE of the spinlock.&amp;nbsp;&amp;nbsp;&amp;nbsp; return objc_autoreleaseReturnValue(value);}void objc_setProperty_atomic(id self, SEL _cmd, id newValue, ptrdiff_t offset){&amp;nbsp;&amp;nbsp;&amp;nbsp; reallySetProperty(self, _cmd, newValue, offset, true, false, false);}idobjc_loadWeakRetained(id *location){&amp;nbsp;&amp;nbsp;&amp;nbsp; id obj;&amp;nbsp;&amp;nbsp;&amp;nbsp; id result;&amp;nbsp;&amp;nbsp;&amp;nbsp; Class cls;&amp;nbsp;&amp;nbsp;&amp;nbsp; SideTable *table;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;retry:&amp;nbsp;&amp;nbsp;&amp;nbsp; // fixme std::atomic this load&amp;nbsp;&amp;nbsp;&amp;nbsp; obj = *location;&amp;nbsp;&amp;nbsp;&amp;nbsp; if (!obj) return nil;&amp;nbsp;&amp;nbsp;&amp;nbsp; if (obj-&amp;gt;isTaggedPointer()) return obj;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; table = &amp;amp;SideTables()[obj];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; table-&amp;gt;lock();&amp;nbsp;&amp;nbsp;&amp;nbsp; if (*location != obj) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; table-&amp;gt;unlock();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; goto retry;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; result = obj;&amp;nbsp;&amp;nbsp;&amp;nbsp; cls = obj-&amp;gt;ISA();&amp;nbsp;&amp;nbsp;&amp;nbsp; if (! cls-&amp;gt;hasCustomRR()) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // Fast case. We know +initialize is complete because&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // default-RR can never be set before then.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; assert(cls-&amp;gt;isInitialized());&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if (! obj-&amp;gt;rootTryRetain()) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; result = nil;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp; else {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // Slow case. We must check for +initialize and call it outside&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // the lock if necessary in order to avoid deadlocks.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if (cls-&amp;gt;isInitialized() || _thisThreadIsInitializingClass(cls)) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; BOOL (*tryRetain)(id, SEL) = (BOOL(*)(id, SEL))&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; class_getMethodImplementation(cls, SEL_retainWeakReference);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if ((IMP)tryRetain == _objc_msgForward) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; result = nil;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; else if (! (*tryRetain)(obj, SEL_retainWeakReference)) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; result = nil;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; else {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; table-&amp;gt;unlock();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; _class_initialize(cls);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; goto retry;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; table-&amp;gt;unlock();&amp;nbsp;&amp;nbsp;&amp;nbsp; return result;}template &amp;lt;HaveOld haveOld, HaveNew haveNew,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; CrashIfDeallocating crashIfDeallocating&amp;gt;static idstoreWeak(id *location, objc_object *newObj){&amp;nbsp;&amp;nbsp;&amp;nbsp; assert(haveOld&amp;nbsp; ||&amp;nbsp; haveNew);&amp;nbsp;&amp;nbsp;&amp;nbsp; if (!haveNew) assert(newObj == nil);&amp;nbsp;&amp;nbsp;&amp;nbsp; Class previouslyInitializedClass = nil;&amp;nbsp;&amp;nbsp;&amp;nbsp; id oldObj;&amp;nbsp;&amp;nbsp;&amp;nbsp; SideTable *oldTable;&amp;nbsp;&amp;nbsp;&amp;nbsp; SideTable *newTable;&amp;nbsp;&amp;nbsp;&amp;nbsp; // Acquire locks for old and new values.&amp;nbsp;&amp;nbsp;&amp;nbsp; // Order by lock address to prevent lock ordering problems.&amp;nbsp;&amp;nbsp;&amp;nbsp; // Retry if the old value changes underneath us.&amp;nbsp;retry:&amp;nbsp;&amp;nbsp;&amp;nbsp; if (haveOld) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; oldObj = *location;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; oldTable = &amp;amp;SideTables()[oldObj];&amp;nbsp;&amp;nbsp;&amp;nbsp; } else {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; oldTable = nil;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp; if (haveNew) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; newTable = &amp;amp;SideTables()[newObj];&amp;nbsp;&amp;nbsp;&amp;nbsp; } else {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; newTable = nil;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp; SideTable::lockTwo&amp;lt;haveOld, haveNew&amp;gt;(oldTable, newTable);&amp;nbsp;&amp;nbsp;&amp;nbsp; if (haveOld&amp;nbsp; &amp;amp;&amp;amp;&amp;nbsp; *location != oldObj) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; SideTable::unlockTwo&amp;lt;haveOld, haveNew&amp;gt;(oldTable, newTable);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; goto retry;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp; // Prevent a deadlock between the weak reference machinery&amp;nbsp;&amp;nbsp;&amp;nbsp; // and the +initialize machinery by ensuring that no&amp;nbsp;&amp;nbsp;&amp;nbsp; // weakly-referenced object has an un-+initialized isa.&amp;nbsp;&amp;nbsp;&amp;nbsp; if (haveNew&amp;nbsp; &amp;amp;&amp;amp;&amp;nbsp; newObj) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Class cls = newObj-&amp;gt;getIsa();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if (cls != previouslyInitializedClass&amp;nbsp; &amp;amp;&amp;amp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; !((objc_class *)cls)-&amp;gt;isInitialized())&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; SideTable::unlockTwo&amp;lt;haveOld, haveNew&amp;gt;(oldTable, newTable);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; _class_initialize(_class_getNonMetaClass(cls, (id)newObj));&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // If this class is finished with +initialize then we're good.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // If this class is still running +initialize on this thread&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // (i.e. +initialize called storeWeak on an instance of itself)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // then we may proceed but it will appear initializing and&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // not yet initialized to the check above.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // Instead set previouslyInitializedClass to recognize it on retry.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; previouslyInitializedClass = cls;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; goto retry;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp; // Clean up old value, if any.&amp;nbsp;&amp;nbsp;&amp;nbsp; if (haveOld) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; weak_unregister_no_lock(&amp;amp;oldTable-&amp;gt;weak_table, oldObj, location);&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp; // Assign new value, if any.&amp;nbsp;&amp;nbsp;&amp;nbsp; if (haveNew) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; newObj = (objc_object *)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; weak_register_no_lock(&amp;amp;newTable-&amp;gt;weak_table, (id)newObj, location,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; crashIfDeallocating);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // weak_register_no_lock returns nil if weak store should be rejected&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // Set is-weakly-referenced bit in refcount table.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if (newObj&amp;nbsp; &amp;amp;&amp;amp;&amp;nbsp; !newObj-&amp;gt;isTaggedPointer()) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; newObj-&amp;gt;setWeaklyReferenced_nolock();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // Do not set *location anywhere else. That would introduce a race.&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; *location = (id)newObj;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp; else {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // No new value. The storage is not changed.&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; SideTable::unlockTwo&amp;lt;haveOld, haveNew&amp;gt;(oldTable, newTable);&amp;nbsp;&amp;nbsp;&amp;nbsp; return (id)newObj;}void objc_setProperty_nonatomic_copy(id self, SEL _cmd, id newValue, ptrdiff_t offset){&amp;nbsp;&amp;nbsp;&amp;nbsp; reallySetProperty(self, _cmd, newValue, offset, false, true, false);}void objc_setProperty_atomic_copy(id self, SEL _cmd, id newValue, ptrdiff_t offset){&amp;nbsp;&amp;nbsp;&amp;nbsp; reallySetProperty(self, _cmd, newValue, offset, true, true, false);}static inline void reallySetProperty(id self, SEL _cmd, id newValue, ptrdiff_t offset, bool atomic, bool copy, bool mutableCopy) __attribute__((always_inline));static inline void reallySetProperty(id self, SEL _cmd, id newValue, ptrdiff_t offset, bool atomic, bool copy, bool mutableCopy){&amp;nbsp;&amp;nbsp;&amp;nbsp; if (offset == 0) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; object_setClass(self, newValue);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; return;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp; id oldValue;&amp;nbsp;&amp;nbsp;&amp;nbsp; id *slot = (id*) ((char*)self + offset);&amp;nbsp;&amp;nbsp;&amp;nbsp; if (copy) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; newValue = [newValue copyWithZone:nil];&amp;nbsp;&amp;nbsp;&amp;nbsp; } else if (mutableCopy) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; newValue = [newValue mutableCopyWithZone:nil];&amp;nbsp;&amp;nbsp;&amp;nbsp; } else {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if (*slot == newValue) return;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; newValue = objc_retain(newValue);&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp; if (!atomic) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; oldValue = *slot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; *slot = newValue;&amp;nbsp;&amp;nbsp;&amp;nbsp; } else {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; spinlock_t&amp;amp; slotlock = PropertyLocks[slot];&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; slotlock.lock();&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; oldValue = *slot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; *slot = newValue;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; slotlock.unlock();&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp; objc_release(oldValue);}小结：weak是线程安全的，nonatomic和atomic实现一致；unsafe_unretained是线程安全的，但本身指针的合法性自身无法保证；strong的setter在nonatomic情况下是非线程安全的，atomic情况下是线程安全的，getter都是线程安全的；copy与strong的类似，在nonatomic情况下是非线程安全的，atomic情况下是线程安全的。具体我们来看下这几个函数的线程不安全性，以及产生的后果。objc_storeStrong代码如下：voidobjc_storeStrong(id *location, id obj){&amp;nbsp;&amp;nbsp;&amp;nbsp; id prev = *location;&amp;nbsp;&amp;nbsp;&amp;nbsp; if (obj == prev) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; return;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&amp;nbsp;&amp;nbsp;&amp;nbsp; objc_retain(obj);&amp;nbsp;&amp;nbsp;&amp;nbsp; *location = obj;&amp;nbsp;&amp;nbsp;&amp;nbsp; objc_release(prev);}假如，self.nonatomicStrong是a，此时同时两个线程分别设置self.nonatomicStrong = b与self.nonatomicStrong = c，两个线程都执行到了objc_retain(obj);线程1voidobjc_storeStrong(id *location, id obj) // location为self+OBJC_IVAR_$_Test$_nonatomicStrongObject，obj为b{&amp;nbsp;&amp;nbsp;&amp;nbsp; id prev = *location; // prev为a&amp;nbsp;&amp;nbsp;&amp;nbsp; if (obj == prev) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; return;&amp;nbsp;&amp;nbsp;&amp;nbsp; }-&amp;gt; &amp;nbsp;objc_retain(obj);&amp;nbsp;&amp;nbsp;&amp;nbsp; *location = obj;&amp;nbsp;&amp;nbsp;&amp;nbsp; objc_release(prev);}线程2voidobjc_storeStrong(id *location, id obj)&amp;nbsp;// location为self+OBJC_IVAR_$_Test$_nonatomicStrongObject，obj为c{&amp;nbsp;&amp;nbsp;&amp;nbsp; id prev = *location;&amp;nbsp;// prev为a&amp;nbsp;&amp;nbsp;&amp;nbsp; if (obj == prev) {&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; return;&amp;nbsp;&amp;nbsp;&amp;nbsp; }-&amp;gt; &amp;nbsp;objc_retain(obj);&amp;nbsp;&amp;nbsp;&amp;nbsp; *location = obj;&amp;nbsp;&amp;nbsp;&amp;nbsp; objc_release(prev);}然后跑完线程1，b做retain，&amp;nbsp;_nonatomicStrongObject = b，a做release；再跑完线程2，c做retain，&amp;nbsp;_nonatomicStrongObject = c，a做release。结果与我们预期的结果并不一致，a释放了两次，而本来应该释放的b或c没有被释放而产生了内存泄漏，如果a在运行之前的retainCount就是1的话，就会立即发生崩溃；如果后续有时机把a释放完全的话，也会在最后一次release动作的时候发生崩溃，除非a永远不会被释放。总之结果已经不可预期了。至于*location = obj;在SMP系统的并行也会在最终有个有先有后的结果，这个应该是MMU的事情，我们不需要关心CPU缓存等具体细节了。临近尾声，我们来看看特殊的id类型，block。block在内存上默认修饰符是copy，如果是strong，也会转换成copy。@property (nonatomic, copy) void(^nonatomicCopyBlock)(void);@property (atomic, copy) void(^atomicCopyBlock)(void);@property (nonatomic, retain) void(^nonatomicRetainBlock)(void);@property (atomic, retain) void(^atomicRetainBlock)(void);@property (nonatomic, weak) void(^nonatomicWeakBlock)(void);@property (atomic, weak) void(^atomicWeakBlock)(void);@property (nonatomic, unsafe_unretained) void(^nonatomicUnsafeUnretainedBlock)(void);@property (atomic, unsafe_unretained) void(^atomicUnsafeUnretainedBlock)(void);我们发现copy、weak、unsafe_unretained的block并没有特殊性，而只有retain是特殊的，这也是ARC下retain和strong的唯一区别：- (void (^)(void))nonatomicRetainBlock {&amp;nbsp; &amp;nbsp;&amp;nbsp;return _nonatomicRetainBlock; // 和nonatomicStrongObject一样}- (void)setNonatomicRetainBlock:(void (^)(void))nonatomicRetainBlock {&amp;nbsp;&amp;nbsp;&amp;nbsp; objc_retainBlock(nonatomicRetainBlock);&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp; &amp;nbsp;(void (^prev)(void)) =&amp;nbsp;&amp;nbsp;_nonatomicRetainBlock;&amp;nbsp;// 线程不安全&amp;nbsp;&amp;nbsp; &amp;nbsp;_nonatomicRetainBlock =&amp;nbsp;nonatomicRetainBlock;&amp;nbsp;// 线程不安全&amp;nbsp;&amp;nbsp; &amp;nbsp;objc_release(prev);}- (void (^)(void))atomicRetainBlock {&amp;nbsp; &amp;nbsp;&amp;nbsp;return objc_getProperty(self, _cmd, OBJC_IVAR_$_Test$_atomicRetainBlock, YES); // 和atomicStrongObject一样，YES，线程安全}- (void)setAtomicRetainBlock:(void (^)(void))atomicRetainBlock&amp;nbsp;{&amp;nbsp; &amp;nbsp;&amp;nbsp;objc_setProperty_atomic(self, _cmd, atomicRetainBlock,&amp;nbsp;OBJC_IVAR_$_Test$_atomicRetainBlock); //&amp;nbsp;和atomicStrongObject一样，objc_setProperty_atomic线程安全}id objc_retainBlock(id x) {&amp;nbsp;&amp;nbsp;&amp;nbsp; return (id)_Block_copy(x);}最后，源码中有个叫objc_copyCppObjectAtomic的函数，这是我们遗漏的一种属性，与objc_copyStruct类似。void objc_copyCppObjectAtomic(void *dest, const void *src, void (*copyHelper) (void *dest, const void *source)) {&amp;nbsp;&amp;nbsp;&amp;nbsp; spinlock_t *srcLock = &amp;amp;CppObjectLocks[src];&amp;nbsp;&amp;nbsp;&amp;nbsp; spinlock_t *dstLock = &amp;amp;CppObjectLocks[dest];&amp;nbsp;&amp;nbsp;&amp;nbsp; spinlock_t::lockTwo(srcLock, dstLock);&amp;nbsp;&amp;nbsp;&amp;nbsp; // let C++ code perform the actual copy.&amp;nbsp;&amp;nbsp;&amp;nbsp; copyHelper(dest, src);&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; spinlock_t::unlockTwo(srcLock, dstLock);}总结：1 非OC对象，无需多条指令读写内存的短数据类型，nonatomic和atomic无区别，都是线程安全的；2 非OC对象，需多条指令读写内存的长数据类型，nonatomic是线程不安全的，atomic是线程安全的；3 OC对象，没有内存关系的unsafe_unretained、assign，nonatomic和atomic无区别，都是线程安全的，但指针不一定安全；4 OC对象，weak，nonatomic和atomic无区别，都是线程安全的；5 OC对象，strong、copy、retain，nonatomic是线程不安全的，atomic是线程安全的；6 同步机制采用的是自旋锁，并不是递归锁@synchronized语句（objc_sync_enter与objc_sync_exit）。7 对于线程不安全的基础数据类型，多线程访问可能会发生数据错误，对于线程不安全的id类型，多线程访问可能会发生引用计数错误。 [jekyll-docs]: https://jekyllrb.com/docs/home [jekyll-gh]: https://github.com/jekyll/jekyll [jekyll-talk]: https://talk.jekyllrb.com/</summary></entry></feed>